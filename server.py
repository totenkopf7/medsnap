# from flask import Flask, request, jsonify
# from flask_cors import CORS
# import os
# from anthropic import Anthropic
# from dotenv import load_dotenv
# import logging

# # Set up logging
# logging.basicConfig(level=logging.INFO)
# logger = logging.getLogger(__name__)

# # Load environment variables
# load_dotenv()

# print("=" * 60)
# print("ğŸš€ Medical Snap Production Server Starting")
# print("=" * 60)

# # Get API key from environment
# ANTHROPIC_API_KEY = os.getenv("ANTHROPIC_API_KEY")

# if not ANTHROPIC_API_KEY:
#     logger.error("âŒ ANTHROPIC_API_KEY not set in environment variables!")
#     raise ValueError("ANTHROPIC_API_KEY environment variable is required")

# logger.info(f"âœ… API Key loaded (length: {len(ANTHROPIC_API_KEY)})")

# # Initialize Anthropic client
# try:
#     client = Anthropic(api_key=ANTHROPIC_API_KEY)
#     logger.info("âœ… Anthropic client initialized")
# except Exception as e:
#     logger.error(f"âŒ Failed to initialize Anthropic client: {e}")
#     raise

# app = Flask(__name__)

# # Configure CORS for production
# # Allow your Netlify domain and local development
# ALLOWED_ORIGINS = [
#     "https://medsnap.netlify.app",      # Your Netlify domain
#     "https://medsnap-7gvx.onrender.com", # Your Render domain
#     "http://localhost:8000",            # Local Flutter web
#     "http://localhost:5000",            # Local server
#     "http://127.0.0.1:8000",
#     "http://127.0.0.1:5000",
# ]

# CORS(app, resources={
#     r"/*": {
#         "origins": ALLOWED_ORIGINS,
#         "methods": ["GET", "POST", "OPTIONS"],
#         "allow_headers": ["Content-Type", "Accept", "Authorization"],
#         "expose_headers": ["Content-Type"],
#         "supports_credentials": False,
#         "max_age": 600,
#     }
# })

# @app.route('/health', methods=['GET'])
# def health_check():
#     """Health check endpoint for Render.com"""
#     return jsonify({
#         'status': 'healthy',
#         'service': 'medical-snap-api',
#         'version': '1.0.0',
#         'api_ready': True
#     })

# @app.route('/test', methods=['GET'])
# def test():
#     """Test endpoint"""
#     return jsonify({
#         'status': 'Server is running',
#         'service': 'Medical Snap API',
#         'environment': 'production',
#         'cors_allowed_origins': ALLOWED_ORIGINS,
#         'api_key_configured': True
#     })

# @app.route('/analyze', methods=['POST', 'OPTIONS'])
# def analyze_image():
#     """Main analysis endpoint"""
#     # Handle preflight requests
#     if request.method == 'OPTIONS':
#         response = jsonify({'status': 'ok'})
#         response.headers.add('Access-Control-Allow-Origin', 
#                            request.headers.get('Origin', '*'))
#         return response
    
#     # Log request
#     origin = request.headers.get('Origin', 'unknown')
#     logger.info(f"ğŸ“¨ Request from origin: {origin}")
    
#     try:
#         data = request.json
#         if not data:
#             logger.warning("No JSON data received")
#             return jsonify({'error': 'No data provided'}), 400
            
#         if 'image' not in data:
#             logger.warning("No image data in request")
#             return jsonify({'error': 'No image data provided'}), 400

#         base64_image = data['image']
#         logger.info(f"ğŸ“· Processing image, size: {len(base64_image)} chars")
        
#         # Call Anthropic API
#         logger.info("ğŸš€ Sending to Claude API...")
        
#         message = client.messages.create(
#             model="claude-3-haiku-20240307",
#             max_tokens=1024,
#             messages=[
#                 {
#                     "role": "user",
#                     "content": [
#                         {
#                             "type": "image",
#                             "source": {
#                                 "type": "base64",
#                                 "media_type": "image/jpeg",
#                                 "data": base64_image,
#                             }
#                         },
# {
#   "type": "text",
#   "text": "ØªÛ† Ù¾ÛÙˆÛŒØ³ØªÛ• ØªÛ•Ù†Ù‡Ø§ Ùˆ ØªÛ•Ù†Ù‡Ø§ Ø¨Û• Ø²Ù…Ø§Ù†ÛŒ Ú©ÙˆØ±Ø¯ÛŒ (Ø³Û†Ø±Ø§Ù†ÛŒ) ÙˆÛ•ÚµØ§Ù… Ø¨Ø¯Û•ÛŒØª. Ù‡ÛŒÚ† Ø²Ù…Ø§Ù†ÛÚ©ÛŒ ØªØ± Ù‚Ø¨ÙˆÚµ Ù†ÛŒÛŒÛ•ØŒ Ù‡ÛŒÚ† ÙˆØ´Û•ÛŒÛ•Ú© Ø¨Û• Ø¹Û•Ø±Û•Ø¨ÛŒØŒ Ø¦ÛŒÙ†Ú¯Ù„ÛŒØ²ÛŒ ÛŒØ§Ù† Ø²Ù…Ø§Ù†ÛÚ©ÛŒ ØªØ± Ø¨Û•Ú©Ø§Ø±Ù…Û•Ù‡ÛÙ†Û•. ÙˆÛÙ†Û•ÛŒ Ù¾ÛÙˆÛ•Ú©Ø±Ø§Ùˆ Ø¨Û• Ø²Û†Ø± ÙˆØ±Ø¯ÛŒ Ùˆ Ø¨ÛŒØ±Ú©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ù‚ÙˆÙˆÚµ Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ• Ø¨Ú©Û•.\n\nÛŒØ§Ø³Ø§ÛŒ Ú¯Ø´ØªÛŒ:\n- Ù‡Û•Ù…ÙˆÙˆ Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•Ú©Ø§Ù† Ùˆ Ú•ÙˆÙˆÙ†Ú©Ø±Ø¯Ù†Û•ÙˆÛ•Ú©Ø§Ù† ÙˆÛ•Ú© Ù¾Ø²ÛŒØ´Ú©ÛÚ©ÛŒ Ø²Û†Ø± Ø¨Û•Ø¦Û•Ø²Ù…ÙˆÙˆÙ† Ø¨Ù†ÙˆÙˆØ³Û•ØŒ ÙˆÛ•Ú© Ø¦Û•ÙˆÛ•ÛŒ Ù†Û•Ø®Û†Ø´ Ú•Ø§Ø³ØªÛ•ÙˆØ®Û† Ø³Û•Ø±Ø¯Ø§Ù†ÛŒ Ù¾Ø²ÛŒØ´Ú© Ú©Ø±Ø¯ÙˆÙˆÛ•.\n- Ù‚Ø³Û•Ú©Ø§Ù† Ø¨Û• Ø´ÛÙˆÛ•ÛŒÛ•Ú©ÛŒ Ø¦Ø§Ø±Ø§Ù…ØŒ Ø¯ÚµÙ†ÛŒØ§Ú©Û•Ø±Û•ÙˆÛ• Ùˆ ØªÛÚ¯Û•ÛŒØ´ØªÙˆÙˆ Ø¨Ù†ÙˆÙˆØ³Û•.\n- Ø¦Û•Ú¯Û•Ø± Ø¯ÚµÙ†ÛŒØ§ Ù†ÛŒØªØŒ Ú•ÙˆÙˆÙ† Ø¨ÚµÛ Ú©Û• Ù¾ÛÙˆÛŒØ³ØªÛ• Ù¾Ø´Ú©Ù†ÛŒÙ†ÛŒ Ø²ÛŒØ§ØªØ± Ø¨Ú©Ø±ÛØª.\n\nØ¦Û•Ú¯Û•Ø± ÙˆÛÙ†Û•Ú©Û• Ù¾Û•ÛŒÙˆÛ•Ù†Ø¯ÛŒØ¯Ø§Ø± Ø¨ÙˆÙˆ Ø¨Û• Ø¯Û•Ø±Ù…Ø§Ù†:\nÙ¡- Ù†Ø§ÙˆÛŒ Ø¯Û•Ø±Ù…Ø§Ù†Û•Ú©Û• Ø¯ÛŒØ§Ø±ÛŒ Ø¨Ú©Û• (Ø¦Û•Ú¯Û•Ø± Ø¨ØªÙˆØ§Ù†Ø±ÛØª Ù†Ø§ÙˆÛŒ Ú¯Ø´ØªÛŒ).\nÙ¢- Ù…Ø§Ø¯Ø¯Û•ÛŒ Ú†Ø§Ù„Ø§Ú© Ùˆ Ú©Ø§Ø±ÛŒÚ¯Û•Ø±ÛŒÛŒÛ•Ú©Ø§Ù†ÛŒ Ù„Û• Ø¬Û•Ø³ØªÛ•Ø¯Ø§ Ú•ÙˆÙˆÙ† Ø¨Ú©Û•.\nÙ£- Ø¨Ø§Ø³ Ø¨Ú©Û• Ø¨Û† Ú†ÛŒ Ø¨Û•Ú©Ø§Ø±Ø¯ÛØª Ùˆ Ø¨Û† Ú†ÛŒ Ø¨Û•Ú©Ø§Ø±Ù†Ø§Ù‡ÛÙ†Ø±ÛØª.\nÙ¤- Ø´ÛÙˆØ§Ø²ÛŒ Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù† Ú•ÙˆÙˆÙ† Ø¨Ú©Û• (Ø¨Ú•ØŒ Ú©Ø§ØªØŒ Ù¾ÛØ´ ÛŒØ§Ù† Ø¯ÙˆØ§ÛŒ Ø®ÙˆØ§Ø±Ø¯Ù†).\nÙ¥- Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±ÛŒÛŒÛ• Ú¯Ø±Ù†Ú¯Û•Ú©Ø§Ù† Ø¨Ø§Ø³ Ø¨Ú©Û• (Ù…Ù†Ø¯Ø§ÚµØ§Ù†ØŒ Ú˜Ù†Ø§Ù†ÛŒ Ø¯ÙˆÙˆÚ¯ÛŒØ§Ù†ØŒ Ù†Û•Ø®Û†Ø´ÛŒÛŒÛ• Ø¯Ø±ÛÚ˜Ø®Ø§ÛŒÛ•Ù†Û•Ú©Ø§Ù†).\nÙ¦- ØªÛÚ©Ú†ÙˆÙˆÙ†ÛŒ Ù†Û•Ø±ÛÙ†ÛŒ Ù„Û•Ú¯Û•Úµ Ø¯Û•Ø±Ù…Ø§Ù†Û•Ú©Ø§Ù†ÛŒ ØªØ± Ø¨Û• ÙˆØ±Ø¯ÛŒ Ø¨Ø§Ø³ Ø¨Ú©Û•ØŒ Ø¨Û•ØªØ§ÛŒØ¨Û•ØªÛŒ Ø¦Û•Ùˆ Ø¯Û†Ø®Ø§Ù†Û•ÛŒ Ú©Û• Ù‡Û•Ø±Ø¯ÙˆÙˆ Ø¯Û•Ø±Ù…Ø§Ù†Û•Ú©Û• Ù¾ÛÚ©Û•ÙˆÛ• Ú©Ø§Ø±ÛŒÚ¯Û•Ø±ÛŒ Ø®Ø±Ø§Ù¾ Ø¯Ø±ÙˆØ³Øª Ø¯Û•Ú©Û•Ù†.\nÙ§- Ú©Ø§Ø±ÛŒÚ¯Û•Ø±ÛŒ Ù„Ø§ÙˆÛ•Ú©ÛŒÛŒ Ø¨Ø§ÙˆÛ•Ú©Ø§Ù† Ùˆ Ú©Ø§Ø±ÛŒÚ¯Û•Ø±ÛŒÛŒÛ• Ú©Û•Ù…ØªØ± Ø¨Ø§ÙˆÛ•Ú©Ø§Ù† Ø¨Ù†ÙˆÙˆØ³Û•.\nÙ¨- Ø¦Ø§Ù…Û†Ú˜Ú¯Ø§Ø±ÛŒ Ø¨Ú©Û• Ú©Û• Ú©Û•ÛŒ Ù¾ÛÙˆÛŒØ³ØªÛ• Ø¯Û•Ø±Ù…Ø§Ù† Ø¨ÙˆÛ•Ø³ØªÛÙ†Ø±ÛØª Ùˆ Ù¾Ø²ÛŒØ´Ú© Ø¨Ø¨ÛŒÙ†Ø±ÛØª.\n\nØ¦Û•Ú¯Û•Ø± ÙˆÛÙ†Û•Ú©Û• Ø¦Û•Ù†Ø¬Ø§Ù…ÛŒ ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ù¾Ø²ÛŒØ´Ú©ÛŒ Ø¨ÙˆÙˆ (Ø®ÙˆÛÙ†ØŒ Ú¤ÛŒØªØ§Ù…ÛŒÙ†ØŒ Ù‡Û†Ø±Ù…Û†Ù†ØŒ Ú†Û•ÙˆØ±ÛŒ Ø®ÙˆÛÙ†ØŒ Ù‡ÛÙ„Ú©Û•ÛŒ Ø¬Û•Ø³ØªÛ•):\nÙ¡- Ø¬Û†Ø±ÛŒ ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•Ú©Ø§Ù† Ø¯ÛŒØ§Ø±ÛŒ Ø¨Ú©Û•.\nÙ¢- Ù‡Û•Ø± Ø¦Û•Ù†Ø¬Ø§Ù…ÛÚ© Ú†ÛŒÛŒÛ• Ùˆ Ú†ÛŒ Ù„Û• Ø¬Û•Ø³ØªÛ•Ø¯Ø§ Ø¯Û•Ú©Ø§Øª Ø¨Û• Ø²Ù…Ø§Ù†ÛŒ Ø³Ø§Ø¯Û• Ú•ÙˆÙˆÙ† Ø¨Ú©Û•.\nÙ£- Ú•ÙˆÙˆÙ† Ø¨Ú©Û• Ø¦Ø§Ø³ØªÛ•Ú©Ø§Ù† Ø¦Ø§Ø³Ø§ÛŒÛŒâ€ŒÙ† ÛŒØ§Ù† Ù†Ø§Ø¦Ø§Ø³Ø§ÛŒÛŒ.\nÙ¤- Ù‡Û†Ú©Ø§Ø±Û• Ù¾Ø²ÛŒØ´Ú©ÛŒÛŒÛ• Ú¯ÙˆÙ†Ø¬Ø§ÙˆÛ•Ú©Ø§Ù† Ø¨Û† Ù†Ø§Ø¦Ø§Ø³Ø§ÛŒÛŒÛ•Ú©Ø§Ù† Ø¨Ø§Ø³ Ø¨Ú©Û•.\nÙ¥- Ø¦Ø§ÛŒØ§ Ø¦Û•Ù… Ø¯Û†Ø®Û• Ù¾ÛÙˆÛŒØ³ØªÛŒ Ø¨Û• Ø³Û•Ø±Ù†Ø¬ÛŒ Ù¾Ø²ÛŒØ´Ú©ÛŒ Ù‡Û•ÛŒÛ• ÛŒØ§Ù† Ù†Ø§.\nÙ¦- Ú•ÛÙ†Ù…Ø§ÛŒÛŒ Ú†Ø§Ø±Û•Ø³Û•Ø±ÛŒ Ù…Ø§ÚµÛ•ÙˆÛ• Ø¨Ø¯Û• (Ø®ÙˆØ§Ø±Ø¯Ù†ØŒ Ú•Ø§Ù‡ÛÙ†Ø§Ù†ØŒ Ú¯Û†Ú•ÛŒÙ†ÛŒ Ø´ÛÙˆØ§Ø²ÛŒ Ú˜ÛŒØ§Ù†).\nÙ§- Ø¦Û•Ú¯Û•Ø± Ù¾ÛÙˆÛŒØ³Øª Ø¨ÙˆÙˆØŒ Ø¨Ø§Ø³ Ø¨Ú©Û• Ú©Û• Ú† Ø¬Û†Ø± Ø¯Û•Ø±Ù…Ø§Ù†ÛÚ© (Ø¨Û• Ù†Ø§ÙˆÛŒ Ú¯Ø´ØªÛŒ) Ø¨Û•Ú©Ø§Ø±Ø¯Ù‡ÛÙ†Ø±ÛØª.\nÙ¨- Ú•ÙˆÙˆÙ† Ø¨Ú©Û• Ú©Û• Ú©Û•ÛŒ Ù¾ÛÙˆÛŒØ³ØªÛ• ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ• Ø¯ÙˆÙˆØ¨Ø§Ø±Û• Ø¨Ú©Ø±ÛØª.\n\nØ¦Û•Ú¯Û•Ø± ÙˆÛÙ†Û•Ú©Û• Ø³Û†Ù†Ø§Ø± (Ø¦ÙˆÙ„ØªØ±Ø§Ø³Û†Ù†Ø¯) Ø¨ÙˆÙˆ:\nÙ¡- Ù‡Û•Ù…ÙˆÙˆ ÙˆØ´Û• Ùˆ Ú•Ø³ØªÛ•Ú©Ø§Ù†ÛŒ Ù„Û• ÙˆÛÙ†Û•Ú©Û•Ø¯Ø§ Ø¨Ø®ÙˆÛÙ†Û•ÙˆÛ• Ùˆ Ú•ÙˆÙˆÙ† Ø¨Ú©Û•.\nÙ¢- Ø¦Û•Ù†Ø¬Ø§Ù…Û•Ú©Ø§Ù† ÙˆÛ•Ú© Ù¾Ø²ÛŒØ´Ú©ÛŒ Ù¾Ø³Ù¾Û†Ú• Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ• Ø¨Ú©Û•.\nÙ£- Ø¦Ø§ÛŒØ§ Ø¦Û•Ù†Ø¬Ø§Ù…Û•Ú©Ø§Ù† Ø¦Ø§Ø³Ø§ÛŒÛŒâ€ŒÙ† ÛŒØ§Ù† Ù†Ø§Ø¦Ø§Ø³Ø§ÛŒÛŒ.\nÙ¤- Ú©Ø§Ø±ÛŒÚ¯Û•Ø±ÛŒÛŒÛ•Ú©Ø§Ù† Ù„Û•Ø³Û•Ø± ØªÛ•Ù†Ø¯Ø±ÙˆØ³ØªÛŒ Ø¨Ø§Ø³ Ø¨Ú©Û•.\nÙ¥- Ù¾ÛØ´Ù†ÛŒØ§Ø±ÛŒ Ù¾Ø²ÛŒØ´Ú©ÛŒ Ùˆ Ù‡Û•Ù†Ú¯Ø§ÙˆÛ• Ø¯Ø§Ù‡Ø§ØªÙˆÙˆÛ•Ú©Ø§Ù† Ø¨Ù†ÙˆÙˆØ³Û•.\n\nØ¦Û•Ú¯Û•Ø± ÙˆÛÙ†Û•Ú©Û• ØªÛÛŒØ¯Ø§ Ù…Ø±Û†Ú¤ Ø¨ÙˆÙˆ:\n- Ù„Û• Ù¾ÛÙ†Ø§Ùˆ Ú•ÙˆÙˆØ¨Û•Ø±ØŒ Ø¬Ù„ Ùˆ Ø¦Ø§Ù…Ø±Ø§Ø²Û•Ú©Ø§Ù†ØŒ Ù‡Û•ÙˆÚµ Ø¨Ø¯Û• Ù¾ÛŒØ´Û• ÛŒØ§Ù† Ú†Ø§Ù„Ø§Ú©ÛŒÛŒ Ú•Û†Ú˜Ø§Ù†Û•ÛŒ Ø¨Ú©Û•ÛŒØªÛ•ÙˆÛ•.\n- Ù‡Û•Ø± ØªÛØ¨ÛŒÙ†ÛŒÛŒÛ•Ú©ÛŒ Ú¯Ø´ØªÛŒ Ùˆ Ú˜ÛŒØ±Ø§Ù†Û• Ø¨Ø§Ø³ Ø¨Ú©Û•.\n\nØ¦Û•Ú¯Û•Ø± ÙˆÛÙ†Û•Ú©Û• Ø¦Ø§Ù…ÛØ±ÛŒ Ø¦Û•Ù„ÛŒÚ©ØªØ±Û†Ù†ÛŒ ÛŒØ§Ù† Ù¾Ø§Ø±Ú†Û•ÛŒ Ù¾ÛŒØ´Û•Ø³Ø§Ø²ÛŒ Ø¨ÙˆÙˆ:\n- Ø¬Û†Ø±ÛŒ Ø¦Ø§Ù…ÛØ±Û•Ú©Û• Ø¯ÛŒØ§Ø±ÛŒ Ø¨Ú©Û•.\n- Ø¦Û•Ø±Ú© Ùˆ Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†ÛŒ Ø¨Ø§Ø³ Ø¨Ú©Û•.\n- Ù‚Û•Ø¨Ø§Ø±Û• Ùˆ ØªØ§ÛŒØ¨Û•ØªÙ…Û•Ù†Ø¯ÛŒÛŒÛ• Ø¯ÛŒØ§Ø±Û•Ú©Ø§Ù† Ú•ÙˆÙˆÙ† Ø¨Ú©Û•.\n- Ù„Û• Ú©ÙˆÛ Ùˆ Ø¨Û† Ú†ÛŒ Ø¨Û•Ú©Ø§Ø±Ø¯ÛØª Ø¨Ø§Ø³ Ø¨Ú©Û•.\n\nÙ„Û• Ú©Û†ØªØ§ÛŒ Ù‡Û•Ù…ÙˆÙˆ Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒÛ•Ú©ÛŒ Ù¾Ø²ÛŒØ´Ú©ÛŒØ¯Ø§:\n- Ø¨Û• Ú•ÙˆÙˆÙ†ÛŒ Ø¨ÚµÛ Ø¦Û•Ù… Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒÛ• Ø¬ÛÚ¯Ø±Û•ÙˆÛ•ÛŒ Ø³Û•Ø±Ø¯Ø§Ù†ÛŒ Ù¾Ø²ÛŒØ´Ú©ÛŒ Ù†ÛŒÛŒÛ• Ùˆ ØªÛ•Ù†Ù‡Ø§ Ú•ÛÙ†Ù…Ø§ÛŒÛŒÛŒ Ú¯Ø´ØªÛŒÛŒÛ•.\n\nØ¦Ø§Ù…Ø§Ù†Ø¬: Ø¦Û•Ù¾Û•Ú©Û• Ø¨Ø¨ÛØª Ø²ÛŒØ±Û•Ú©ØªØ±ÛŒÙ† Ùˆ Ø³ÙˆØ¯Ù…Û•Ù†Ø¯ØªØ±ÛŒÙ† ÛŒØ§Ø±Ù…Û•ØªÛŒØ¯Û•Ø±ÛŒ Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ ÙˆÛÙ†Û• Ù„Û• Ø¬ÛŒÙ‡Ø§Ù†Ø¯Ø§."
# }


#                     ]
#                 }
#             ]
#         )
        
#         logger.info("âœ… Received response from Claude API")
        
#         if message.content and len(message.content) > 0:
#             response_text = message.content[0].text
#             logger.info(f"ğŸ“„ Response generated: {len(response_text)} chars")
#             return jsonify({'description': response_text})
#         else:
#             logger.error("No content in Claude response")
#             return jsonify({'error': 'No analysis content received'}), 500

#     except Exception as e:
#         logger.error(f"ğŸ’¥ Error in analyze_image: {str(e)}")
#         return jsonify({
#             'error': 'Internal server error',
#             'message': str(e)
#         }), 500

# # Error handlers
# @app.errorhandler(404)
# def not_found(error):
#     return jsonify({'error': 'Not found'}), 404

# @app.errorhandler(500)
# def internal_error(error):
#     return jsonify({'error': 'Internal server error'}), 500

# if __name__ == '__main__':
#     port = int(os.environ.get('PORT', 5000))
#     logger.info(f"ğŸŒ Starting server on port {port}")
#     logger.info(f"ğŸ”§ Health check: http://localhost:{port}/health")
#     logger.info(f"ğŸ”§ Test endpoint: http://localhost:{port}/test")
#     app.run(host='0.0.0.0', port=port, debug=False)

from flask import Flask, request, jsonify
from flask_cors import CORS
import os
from anthropic import Anthropic

print("AnyScan Server with Multi-Category & Multi-Language Support")

# Get API key
ANTHROPIC_API_KEY = os.environ.get("ANTHROPIC_API_KEY")

if not ANTHROPIC_API_KEY:
    print("ERROR: ANTHROPIC_API_KEY not set!")
else:
    print(f"API Key loaded")

# Initialize Anthropic client
client = Anthropic(api_key=ANTHROPIC_API_KEY)

app = Flask(__name__)
CORS(app)

def get_prompt_for_category_and_language(category, language_code):
    """Get appropriate prompt based on category and language"""
    
    # Category-specific prompts in all languages
    prompts = {
        'medicine': {
            'ku': """
ØªÛ† ÛŒØ§Ø±Ù…Û•ØªÛŒØ¯Û•Ø±ÛŒ Ø²ÛŒØ±Û•Ú©ÛŒ Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ ÙˆÛÙ†Û•ÛŒ Ù¾Ø²ÛŒØ´Ú©ÛŒ.

ÙˆÛÙ†Û•ÛŒ Ø¨Ø§Ø±Ú©Ø±Ø§Ùˆ Ø¨Û• ÙˆØ±Ø¯ÛŒ Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ• Ø¨Ú©Û• Ùˆ Ø³Û•Ø±Û•ØªØ§ Ø¯ÛŒØ§Ø±ÛŒ Ø¨Ú©Û• ÙˆÛÙ†Û•Ú©Û• Ú†ÛŒ Ù¾ÛŒØ´Ø§Ù† Ø¯Û•Ø¯Ø§Øª.

Ø¦Û•Ù… ÛŒØ§Ø³Ø§ÛŒØ§Ù†Û• Ø¨Û• ØªÛ•ÙˆØ§ÙˆÛŒ Ø¬ÛØ¨Û•Ø¬Û Ø¨Ú©Û•:

1) Ø¦Û•Ú¯Û•Ø± ÙˆÛÙ†Û•Ú©Û• Ø¯Û•Ø±Ù…Ø§Ù† Ù¾ÛŒØ´Ø§Ù† Ø¨Ø¯Ø§Øª  
(Ø´Û•Ø±Ø¨Û•ØªØŒ Ø­Û•Ø¨ØŒ Ø¯Û•Ø±Ø²ÛŒØŒ Ù¾ÛÚ©Ù‡Ø§ØªÛ•ÛŒ Ø®Û†Ø±Ø§Ú©ÛŒØŒ ÛŒØ§Ù† Ù‡Û•Ø± Ø¨Û•Ø±Ù‡Û•Ù…ÛÚ©ÛŒ Ù¾Ø²ÛŒØ´Ú©ÛŒ)
â†’ Ù¾ÛÙˆÛŒØ³ØªÛ• Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒÛ•Ú©ÛŒ Ù¾Ø²ÛŒØ´Ú©ÛŒ Ùˆ ÙˆØ±Ø¯ Ù¾ÛØ´Ú©Û•Ø´ Ø¨Ú©Û• Ø¨Û• Ø¦Û•Ù… Ú•ÛÚ©Ø®Ø³ØªÙ†Û•ÛŒ Ø®ÙˆØ§Ø±Û•ÙˆÛ•:

Ù†Ø§ÙˆÙ†ÛŒØ´Ø§Ù† (Ù†Ø§ÙˆÛŒ Ø¨Û•Ø±Ù‡Û•Ù… ÛŒØ§Ù† ÙˆÛ•Ø³ÙÛŒ)

ÙˆÛ•Ø³Ù:
Ú•ÙˆÙˆÙ†Ú©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒÛ•Ú©ÛŒ Ù¾ÛŒØ´Ù‡â€ŒÚ©ÛŒ Ùˆ Ø¦Ø§Ø´Ú©Ø±Ø§ Ù„Û•Ø³Û•Ø± Ø¦Û•ÙˆÛ•ÛŒ Ø¯Û•Ø±Ù…Ø§Ù†Û•Ú©Û• Ú†ÛŒÛŒÛ•ØŒ Ú†ÛŒ Ù¾ÛÚ©Ù‡Ø§ØªÛ•ÛŒÛ•Ú©ÛŒ Ù‡Û•ÛŒÛ• Ùˆ Ø¨Û† Ú†ÛŒ Ø¨Û•Ú©Ø§Ø±Ø¯ÛØª.

Ù¾ÛÚ©Ù‡Ø§ØªÛ• Ø³Û•Ø±Û•Ú©ÛŒÛŒÛ•Ú©Ø§Ù†:
- Ù†Ø§ÙˆÛŒ Ù¾ÛÚ©Ù‡Ø§ØªÛ•: Ú•ÙˆÙˆÙ†Ú©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ú©Ø§Ø±ÛŒÚ¯Û•Ø±ÛŒ Ùˆ Ø¦Û•Ø±Ú©Û•Ú©Û•ÛŒ.

Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†Û•Ú©Ø§Ù†:
- Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†ÛŒ Ù¾Ø²ÛŒØ´Ú©ÛŒ Ø³Û•Ø±Û•Ú©ÛŒ
- Ø¦Û•Ùˆ Ù†ÛŒØ´Ø§Ù†Ø§Ù†Û•ÛŒ Ú©Û• Ø³ÙˆÙˆÚ© Ø¯Û•Ú©Ø§Øª
- Ø³ÙˆÙˆØ¯Û• Ø²ÛŒØ§Ø¯Û•Ú©Ø§Ù† Ø¦Û•Ú¯Û•Ø± Ù‡Û•Ø¨ÙˆÙˆ

Ú¯Ø±ÙˆÙˆÙ¾ÛŒ ØªÛ•Ù…Û•Ù†:
- Ø¯ÛŒØ§Ø±ÛŒÚ©Ø±Ø¯Ù†ÛŒ ØªÛ•Ù…Û•Ù†Û• Ú¯ÙˆÙ†Ø¬Ø§ÙˆÛ•Ú©Ø§Ù†
- Ø¬Û•Ø®ØªÚ©Ø±Ø¯Ù†Û•ÙˆÛ• Ù„Û•Ø³Û•Ø± Ù¾ÛÙˆÛŒØ³ØªÛŒ Ú†Ø§ÙˆØ¯ÛØ±ÛŒ Ù¾Ø²ÛŒØ´Ú©

Ø¯ÙˆØ² Ùˆ Ø´ÛÙˆØ§Ø²ÛŒ Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†:
- Ù…Ù†Ø¯Ø§ÚµØ§Ù† (Ø¦Û•Ú¯Û•Ø± Ù‡Û•Ø¨ÙˆÙˆ)
- Ú¯Û•ÙˆØ±Û•Ú©Ø§Ù†
- Ø´ÛÙˆØ§Ø²ÛŒ Ø®ÙˆØ§Ø±Ø¯Ù† ÛŒØ§Ù† Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†
- Ù‡Û•Ù…ÛŒØ´Û• Ø¬Û•Ø®Øª Ø¨Ú©Û•ÙˆÛ• Ú©Û• Ø¯ÙˆØ² Ù„Û• Ú©Û•Ø³ÛÚ© Ø¨Û† Ú©Û•Ø³ÛÚ©ÛŒ ØªØ± Ø¬ÛŒØ§ÙˆØ§Ø² Ø¯Û•Ø¨ÛØª

Ú©Ø§ØªÛŒ Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†:
- Ú©Ø§ØªÛÚ© Ø¨Û• Ø²Û†Ø±ÛŒ Ø¨Û•Ú©Ø§Ø±Ø¯ÛØª
- Ù…Ø§ÙˆÛ•ÛŒ Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†

Ú©Ø§Ø±ÛŒÚ¯Û•Ø±ÛŒÛŒÛ• Ù„Ø§ÙˆÛ•Ú©ÛŒÛŒÛ•Ú©Ø§Ù†:
- Ú©Ø§Ø±ÛŒÚ¯Û•Ø±ÛŒÛŒÛ• Ø¨Ø§ÙˆÛ•Ú©Ø§Ù†
- Ú©Ø§Ø±ÛŒÚ¯Û•Ø±ÛŒÛŒÛ• Ø¯Û•Ú¯Ù…Û•Ù† Ùˆ ØªÙˆÙ†Ø¯Û•Ú©Ø§Ù†
- Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±ÛŒ Ø¨Û† ÙˆÛ•Ø³ØªØ§Ù†Ø¯Ù†ÛŒ Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†

âš ï¸ Ù‡Û•Ù…ÛŒØ´Û• Ø¦Û•Ù… Ø¯Û•Ø³ØªÛ•ÙˆØ§Ú˜Û•ÛŒÛ• Ø¨Ù†ÙˆÙˆØ³Û•:
"Ù¾ÛÙˆÛŒØ³ØªÛ• Ø¦Û•Ù… Ø¨Û•Ø±Ù‡Û•Ù…Û• Ù„Û•Ú˜ÛØ± Ú†Ø§ÙˆØ¯ÛØ±ÛŒ Ù¾Ø²ÛŒØ´Ú©Ø¯Ø§ Ø¨Û•Ú©Ø§Ø±Ø¨Ù‡ÛÙ†Ø±ÛØª."

---

2) Ø¦Û•Ú¯Û•Ø± ÙˆÛÙ†Û•Ú©Û• Ø¦Û•Ù†Ø¬Ø§Ù…ÛŒ ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ù¾Ø²ÛŒØ´Ú©ÛŒ Ù¾ÛŒØ´Ø§Ù† Ø¨Ø¯Ø§Øª  
(ÙˆÛ•Ú© ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ø®ÙˆÛÙ†ØŒ Ø¦Ø§Ø³ØªÛŒ Ú¤ÛŒØªØ§Ù…ÛŒÙ†Û•Ú©Ø§Ù†ØŒ Ø¦Û•Ù„ØªØ±Ø§Ø³Û•ÙˆÙ†Ø¯ØŒ ØªÛŒØ´Ú©ÛŒ XØŒ MRIØŒ CT ScanØŒ Ú•Ø§Ù¾Û†Ø±ØªÛŒ ØªØ§Ù‚ÛŒÚ¯Û•)
â†’ Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•Ú©Û• Ø¨Û• Ø¦Û•Ù… Ø´ÛÙˆØ§Ø²Û• Ø¨Ú©Û•:

Ù†Ø§ÙˆÛŒ ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•

Ù†Ø§ÙˆÛŒ Ù¾ÛÙˆØ§Ù†Û•:
Ø¦Û•Ù†Ø¬Ø§Ù…:
Ø¦Ø§Ø³ØªÛŒ Ø¦Ø§Ø³Ø§ÛŒÛŒ:
Ú•ÙˆÙˆÙ†Ú©Ø±Ø¯Ù†Û•ÙˆÛ•:
(ØªÛÚ¯Û•ÛŒØ´ØªÙ†ÛÚ©ÛŒ Ù¾Ø²ÛŒØ´Ú©ÛŒ Ø³Ø§Ø¯Û• Ùˆ Ú•ÙˆÙˆÙ†)

Ù„Û• Ú©Û†ØªØ§ÛŒÛŒØŒ Ø¦Û•Ù…Ø§Ù†Û• Ø²ÛŒØ§Ø¯ Ø¨Ú©Û•:

Ù¾ÙˆØ®ØªÛ•ÛŒ Ú¯Ø´ØªÛŒ:
- Ø®Ø§ÚµÛ•Ú©Ø§Ù† Ø¨Û† Ú©ÙˆØ±ØªÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ø¯Û†Ø®ÛŒ ØªÛ•Ù†Ø¯Ø±ÙˆØ³ØªÛŒ
- Ø¦Ø§Ù…Ø§Ú˜Û• Ø¨Û• Ø¦Û•Ù†Ø¬Ø§Ù…Û• Ù†Ø§Ø¦Ø§Ø³Ø§ÛŒÛŒÛ•Ú©Ø§Ù† Ø¦Û•Ú¯Û•Ø± Ù‡Û•Ø¨ÙˆÙˆ
- Ø¦Û•Ú¯Û•Ø± Ù‡Û•Ù…ÙˆÙˆ Ø¦Û•Ù†Ø¬Ø§Ù…Û•Ú©Ø§Ù† Ø¦Ø§Ø³Ø§ÛŒÛŒ Ø¨ÙˆÙˆÙ†ØŒ Ø¨Û• Ú•ÙˆÙˆÙ†ÛŒ Ø¨Ø§Ø³ Ø¨Ú©Û•

Ú©Û†ØªØ§ÛŒÛŒ Ø¨Ú©Û• Ø¨Û•:
âœ… ØªÛØ¨ÛŒÙ†ÛŒ Ú¯Ø´ØªÛŒ: (Ù¾ÙˆØ®ØªÛ•ÛŒÛ•Ú©ÛŒ Ù¾Ø²ÛŒØ´Ú©ÛŒ Ú•ÙˆÙˆÙ†)

---

Ù‚ÙˆØ§Ø¹Ø¯:
- ÙˆØ±Ø¯ØŒ Ú•ÙˆÙˆÙ† Ùˆ Ù¾ÛŒØ´Ù‡â€ŒÚ©ÛŒ Ø¨Û•
- Ø²Ø§Ù†ÛŒØ§Ø±ÛŒ Ù†Ø§Ø¯ÛŒØ§Ø± Ø¯Ø±ÙˆØ³Øª Ù…Û•Ú©Û•
- Ø¦Û•Ú¯Û•Ø± Ø´ØªÛÚ© Ú•ÙˆÙˆÙ† Ù†Û•Ø¨ÙˆÙˆØŒ Ø¨Û• Ú•Ø§Ø³ØªÛŒ Ø¨Ø§Ø³ Ø¨Ú©Û•
- Ù‡Û•Ø± Ø²Ù…Ø§Ù†ÛÚ©ÛŒ Ù¾Ø²ÛŒØ´Ú©ÛŒ Ø¨Û•Ú©Ø§Ø± Ø¨Ù‡ÛÙ†Û•
""",
            'en': """
You are an intelligent medical visual analysis assistant.

Carefully analyze the uploaded image and provide detailed medical analysis.

Follow these rules strictly:

1) If the image shows MEDICINE (syrup, tablet, injection, supplement, medical product, etc.)  
â†’ Provide a detailed medical-style explanation using THIS STRUCTURE:

Title (Product Name or Description)

Description:
A clear, professional explanation of what the medicine is, what it contains, and what it is used for.

Main Ingredients:
- Ingredient name: Explanation of its role and effect.

Uses:
- Main medical uses
- Symptoms it helps relieve
- Additional benefits if applicable

Age Group:
- Specify age suitability
- Mention medical supervision clearly

Dosage and Method of Use:
- Children (if applicable)
- Adults
- Method of intake
- Always mention that dosage may vary

Time of Use:
- When it is usually taken
- Duration guidance

Side Effects:
- Common side effects
- Rare but serious side effects
- Clear warning to stop use

âš ï¸ Always include:
"This product must be used under medical supervision."

---

2) If the image shows MEDICAL TEST RESULTS  
(such as blood tests, vitamins levels, ultrasound, X-ray, MRI, CT scan, lab reports)  
â†’ Explain it using THIS FORMAT:

Test Name

Parameter Name:
Result:
Normal Range:
Explanation:
(Simple, clear medical explanation)

At the end, include:

Overall Summary:
- Bullet points summarizing health status
- Mention any abnormal findings if present
- If everything is normal, clearly state that

End with:
âœ… Overall impression: (Clear medical conclusion)

---

Rules:
- Be accurate, clear, and professional
- Do not hallucinate details
- If information is unclear, say so honestly
- Use medical terminology appropriately
""",
            'ar': """
Ø£Ù†Øª Ø®Ø¨ÙŠØ± ÙÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø·Ø¨ÙŠØ©.

Ù‚Ù… Ø¨ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø© Ø¨Ø¹Ù†Ø§ÙŠØ©ØŒ ÙˆÙ‚Ø¯Ù… ØªØ­Ù„ÙŠÙ„Ù‹Ø§ Ø·Ø¨ÙŠÙ‹Ø§ Ù…ÙØµÙ„Ù‹Ø§.

Ø§Ù„ØªØ²Ù… Ø¨Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„ØªØ§Ù„ÙŠØ© Ø¨Ø¯Ù‚Ø©:

1) Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„ØµÙˆØ±Ø© ØªÙØ¸Ù‡Ø± Ø¯ÙˆØ§Ø¡Ù‹  
(Ø´Ø±Ø§Ø¨ØŒ Ø£Ù‚Ø±Ø§ØµØŒ Ø­Ù‚Ù†ØŒ Ù…ÙƒÙ…Ù„Ø§Øª ØºØ°Ø§Ø¦ÙŠØ©ØŒ Ù…Ù†ØªØ¬ Ø·Ø¨ÙŠ)
â†’ Ù‚Ø¯Ù‘Ù… Ø´Ø±Ø­Ù‹Ø§ Ø·Ø¨ÙŠÙ‹Ø§ Ù…ÙØµÙ„Ù‹Ø§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ§Ù„ÙŠØ©:

Ø§Ù„Ø¹Ù†ÙˆØ§Ù† (Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ Ø£Ùˆ ÙˆØµÙÙ‡)

Ø§Ù„ÙˆØµÙ:
Ø´Ø±Ø­ ÙˆØ§Ø¶Ø­ ÙˆØ§Ø­ØªØ±Ø§ÙÙŠ ÙŠÙˆØ¶Ø­ Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¯ÙˆØ§Ø¡ØŒ Ù…ÙƒÙˆÙ†Ø§ØªÙ‡ØŒ ÙˆÙ„Ù…Ø§Ø°Ø§ ÙŠÙØ³ØªØ®Ø¯Ù….

Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:
- Ø§Ø³Ù… Ø§Ù„Ù…ÙƒÙˆÙ‘Ù†: Ø´Ø±Ø­ Ø¯ÙˆØ±Ù‡ ÙˆØªØ£Ø«ÙŠØ±Ù‡.

Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª:
- Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
- Ø§Ù„Ø£Ø¹Ø±Ø§Ø¶ Ø§Ù„ØªÙŠ ÙŠØ³Ø§Ø¹Ø¯ ÙÙŠ ØªØ®ÙÙŠÙÙ‡Ø§
- Ø§Ù„ÙÙˆØ§Ø¦Ø¯ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© Ø¥Ù† ÙˆÙØ¬Ø¯Øª

Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø¹Ù…Ø±ÙŠØ©:
- ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø£Ø¹Ù…Ø§Ø± Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
- Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø¹Ù„Ù‰ Ø¶Ø±ÙˆØ±Ø© Ø§Ù„Ø¥Ø´Ø±Ø§Ù Ø§Ù„Ø·Ø¨ÙŠ

Ø§Ù„Ø¬Ø±Ø¹Ø© ÙˆØ·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:
- Ø§Ù„Ø£Ø·ÙØ§Ù„ (Ø¥Ù† ÙˆÙØ¬Ø¯)
- Ø§Ù„Ø¨Ø§Ù„ØºÙˆÙ†
- Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªÙ†Ø§ÙˆÙ„
- Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø¹Ù„Ù‰ Ø£Ù† Ø§Ù„Ø¬Ø±Ø¹Ø© Ù‚Ø¯ ØªØ®ØªÙ„Ù

ÙˆÙ‚Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:
- Ù…ØªÙ‰ ÙŠÙØ³ØªØ®Ø¯Ù… Ø¹Ø§Ø¯Ø©
- Ù…Ø¯Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

Ø§Ù„Ø¢Ø«Ø§Ø± Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©:
- Ø§Ù„Ø¢Ø«Ø§Ø± Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©
- Ø§Ù„Ø¢Ø«Ø§Ø± Ø§Ù„Ù†Ø§Ø¯Ø±Ø© ÙˆÙ„ÙƒÙ† Ø§Ù„Ø®Ø·ÙŠØ±Ø©
- ØªØ­Ø°ÙŠØ± Ø¨Ø¶Ø±ÙˆØ±Ø© Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

âš ï¸ ÙŠØ¬Ø¨ Ø¯Ø§Ø¦Ù…Ù‹Ø§ ØªØ¶Ù…ÙŠÙ†:
"ÙŠØ¬Ø¨ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ù†ØªØ¬ ØªØ­Øª Ø¥Ø´Ø±Ø§Ù Ø·Ø¨ÙŠ."

---

2) Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„ØµÙˆØ±Ø© ØªÙØ¸Ù‡Ø± Ù†ØªØ§Ø¦Ø¬ ÙØ­ÙˆØµØ§Øª Ø·Ø¨ÙŠØ©  
(Ù…Ø«Ù„ ØªØ­Ø§Ù„ÙŠÙ„ Ø§Ù„Ø¯Ù…ØŒ Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„ÙÙŠØªØ§Ù…ÙŠÙ†Ø§ØªØŒ Ø§Ù„Ø£Ø´Ø¹Ø© ÙÙˆÙ‚ Ø§Ù„ØµÙˆØªÙŠØ©ØŒ Ø§Ù„Ø£Ø´Ø¹Ø© Ø§Ù„Ø³ÙŠÙ†ÙŠØ©ØŒ Ø§Ù„Ø±Ù†ÙŠÙ† Ø§Ù„Ù…ØºÙ†Ø§Ø·ÙŠØ³ÙŠØŒ Ø§Ù„Ø£Ø´Ø¹Ø© Ø§Ù„Ù…Ù‚Ø·Ø¹ÙŠØ©)
â†’ ÙŠØ¬Ø¨ Ø´Ø±Ø­Ù‡Ø§ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØµÙŠØºØ© Ø§Ù„ØªØ§Ù„ÙŠØ©:

Ø§Ø³Ù… Ø§Ù„ÙØ­Øµ

Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ø´Ø±:
Ø§Ù„Ù†ØªÙŠØ¬Ø©:
Ø§Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ:
Ø§Ù„Ø´Ø±Ø­:
(ØªÙØ³ÙŠØ± Ø·Ø¨ÙŠ Ø¨Ø³ÙŠØ· ÙˆÙˆØ§Ø¶Ø­)

ÙˆÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©ØŒ Ø£Ø¶Ù:

Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ø¹Ø§Ù…:
- Ù†Ù‚Ø§Ø· Ù…Ø®ØªØµØ±Ø© ØªÙ„Ø®Øµ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ØµØ­ÙŠØ©
- Ø§Ù„Ø¥Ø´Ø§Ø±Ø© Ø¥Ù„Ù‰ Ø£ÙŠ Ù†ØªØ§Ø¦Ø¬ ØºÙŠØ± Ø·Ø¨ÙŠØ¹ÙŠØ© Ø¥Ù† ÙˆÙØ¬Ø¯Øª
- ÙÙŠ Ø­Ø§Ù„ ÙƒØ§Ù†Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø·Ø¨ÙŠØ¹ÙŠØ©ØŒ ÙŠØ¬Ø¨ ØªÙˆØ¶ÙŠØ­ Ø°Ù„Ùƒ

ÙˆØ§Ø®ØªÙ… Ø¨Ù€:
âœ… Ø§Ù„Ø§Ù†Ø·Ø¨Ø§Ø¹ Ø§Ù„Ø¹Ø§Ù…: (Ø®Ù„Ø§ØµØ© Ø·Ø¨ÙŠØ© ÙˆØ§Ø¶Ø­Ø©)

---

Ù‚ÙˆØ§Ø¹Ø¯:
- ÙƒÙ† Ø¯Ù‚ÙŠÙ‚Ù‹Ø§ ÙˆÙˆØ§Ø¶Ø­Ù‹Ø§ ÙˆØ§Ø­ØªØ±Ø§ÙÙŠÙ‹Ø§
- Ù„Ø§ ØªØ®ØªÙ„Ù‚ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØºÙŠØ± Ø¸Ø§Ù‡Ø±Ø©
- Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØºÙŠØ± ÙˆØ§Ø¶Ø­Ø©ØŒ Ø§Ø°ÙƒØ± Ø°Ù„Ùƒ
- Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…ØµØ·Ù„Ø­Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
"""
        },
        'industrial': {
            'ku': """
ØªÛ† Ø´ÛŒÚ©Û•Ø±Û•ÙˆÛ•ÛŒ ÙˆÛÙ†Û•ÛŒ Ù¾ÛŒØ´Û•Ø³Ø§Ø²ÛŒ Ùˆ Ù…ÛŒÚ©Ø§Ù†ÛŒÚ©ÛŒ.

ÙˆÛÙ†Û•ÛŒ Ø¨Ø§Ø±Ú©Ø±Ø§Ùˆ Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ• Ø¨Ú©Û• Ø¨Û• ÙˆØ±Ø¯ÛŒ Ùˆ Ø¯ÛŒØ§Ø±ÛŒ Ø¨Ú©Û• Ø¦Û•Ùˆ Ø´ØªÛ•ÛŒ Ú©Û• Ø¯ÛŒØ§Ø±Û•:

1) Ø¬Û†Ø±ÛŒ Ø¨Û•Ø±Ù‡Û•Ù…/Ø¦Ø§Ù…ÛØ±:
- Ù†Ø§ÙˆÛŒ Ú¯Ø´ØªÛŒ
- Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†ÛŒ Ø³Û•Ø±Û•Ú©ÛŒ

2) ØªØ§ÛŒØ¨Û•ØªÙ…Û•Ù†Ø¯ÛŒÛŒÛ• Ø¯ÛŒØ§Ø±Û•Ú©Ø§Ù†:
- Ù‚Û•Ø¨Ø§Ø±Û• Ùˆ Ù‚Û•Ø¨Ø§Ø±Û•
- Ú•Û•Ù†Ú¯ Ùˆ Ù…Ø§Ø¯Ø¯Û•
- Ø¦Û•Ùˆ ØªØ§ÛŒØ¨Û•ØªÙ…Û•Ù†Ø¯ÛŒØ§Ù†Û•ÛŒ Ú©Û• Ø¯ÛŒØ§Ø±Û•

3) Ù…ÛŒÚ©Ø§Ù†ÛŒØ²Ù…/Ú©Ø§Ø±Ú©Ø±Ø¯:
- Ú†Û†Ù†ÛŒÛ•ØªÛŒ Ú©Ø§Ø±ÛŒ
- Ù¾ÛÚ©Ù‡Ø§ØªÛ•Ú©Ø§Ù†ÛŒ Ø³Û•Ø±Û•Ú©ÛŒ
- Ø¦Û•Ùˆ Ø¦Ø§Ù…ÛØ±Ø§Ù†Û•ÛŒ Ú©Û• Ù„Û•Ú¯Û•ÚµÛŒØ¯Ø§ Ú©Ø§Ø± Ø¯Û•Ú©Ø§Øª

4) Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù† Ù„Û• Ù¾ÛŒØ´Û•Ø³Ø§Ø²ÛŒØ¯Ø§:
- Ø¨ÙˆØ§Ø±Û•Ú©Ø§Ù†ÛŒ Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†
- Ú©Ø§Ø±Û• Ø³Û•Ø±Û•Ú©ÛŒÛŒÛ•Ú©Ø§Ù†ÛŒ
- Ø³ÙˆÙˆØ¯Û• Ù¾ÛŒØ´Û•Ø³Ø§Ø²ÛŒÛŒÛ•Ú©Ø§Ù†

5) Ù¾Ø§Ø±ÛØ²Ú¯Ø§Ø±ÛŒ Ùˆ Ú†Ø§ÙˆØ¯ÛØ±ÛŒ:
- Ú•ÛÙ†Ù…Ø§ÛŒÛŒ Ù¾Ø§Ø±ÛØ²Ú¯Ø§Ø±ÛŒ
- Ú©Ø§ØªÛŒ Ú†Ø§ÙˆØ¯ÛØ±ÛŒ
- Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±ÛŒÛ• Ø¦Ø§Ø³Ø§ÛŒØ´ÛŒÛŒÛ•Ú©Ø§Ù†

6) Ú†Û•Ù†Ø¯Ø§ÛŒÛ•ØªÛŒ ØªÛ•Ú©Ù†ÛŒÚ©ÛŒ:
- ØªÙˆØ§Ù†Ø§/Ú©Ø§Ø±Ø§ÛŒÛŒ
- Ù…Û•ÙˆØ¯Ø§ÛŒ Ú©Ø§Ø±Ú©Ø±Ø¯
- Ù¾ÛÙˆÛŒØ³ØªÛŒ ÙˆØ²Û•

Ú©Û†ØªØ§ÛŒÛŒ Ø¨Ú©Û• Ø¨Û•:
âœ… Ù¾ÙˆØ®ØªÛ•ÛŒ Ú©Ø§ØªÛŒ: (Ù¾ÙˆØ®ØªÛ•ÛŒÛ•Ú©ÛŒ Ú©ÙˆØ±Øª Ù„Û•Ø³Û•Ø± Ø³ÙˆÙˆØ¯ Ùˆ Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†)

Ù‚ÙˆØ§Ø¹Ø¯:
- ÙˆØ±Ø¯ Ùˆ ØªÛ•Ú©Ù†ÛŒÚ©ÛŒ Ø¨Û•
- ØªÛ•Ù†Ù‡Ø§ Ù„Û•Ø³Û•Ø± Ø¨Ù†Û•Ù…Ø§ÛŒ Ø¦Û•ÙˆÛ•ÛŒ Ú©Û• Ø¯ÛŒØ§Ø±Û• Ù‚Ø³Û• Ø¨Ú©Û•
- Ø²Ù…Ø§Ù†ÛŒ Ù¾ÛŒØ´Û•Ø³Ø§Ø²ÛŒ Ø¨Û•Ú©Ø§Ø±Ø¨Ù‡ÛÙ†Û•
""",
            'en': """
You are an industrial and mechanical image analyzer.

Analyze the uploaded image carefully and identify what is visible:

1) Product/Equipment Type:
- General name
- Primary use

2) Visible Features:
- Size and dimensions
- Color and material
- Notable visible characteristics

3) Mechanism/Function:
- How it operates
- Key components
- Compatible equipment

4) Industrial Applications:
- Industry sectors where used
- Primary functions
- Industrial benefits

5) Maintenance & Care:
- Maintenance guidelines
- Service intervals
- Safety precautions

6) Technical Specifications:
- Capacity/efficiency
- Operating range
- Power requirements

End with:
âœ… Quick Summary: (Brief overview of benefits and applications)

Rules:
- Be precise and technical
- Base analysis only on what's visible
- Use industrial terminology
""",
            'ar': """
Ø£Ù†Øª Ù…Ø­Ù„Ù„ ØµÙˆØ± ØµÙ†Ø§Ø¹ÙŠØ© ÙˆÙ…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ©.

Ù‚Ù… Ø¨ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø© Ø¨Ø¹Ù†Ø§ÙŠØ© ÙˆØ­Ø¯Ø¯ Ù…Ø§ Ù‡Ùˆ Ù…Ø±Ø¦ÙŠ:

1) Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†ØªØ¬/Ø§Ù„Ù…Ø¹Ø¯Ø§Øª:
- Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¹Ø§Ù…
- Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ

2) Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ø±Ø¦ÙŠØ©:
- Ø§Ù„Ø­Ø¬Ù… ÙˆØ§Ù„Ø£Ø¨Ø¹Ø§Ø¯
- Ø§Ù„Ù„ÙˆÙ† ÙˆØ§Ù„Ù…Ø§Ø¯Ø©
- Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„Ù…Ù„Ø­ÙˆØ¸Ø©

3) Ø§Ù„Ø¢Ù„ÙŠØ©/Ø§Ù„ÙˆØ¸ÙŠÙØ©:
- ÙƒÙŠÙÙŠØ© Ø§Ù„ØªØ´ØºÙŠÙ„
- Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
- Ø§Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ù…ØªÙˆØ§ÙÙ‚Ø©

4) Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ©:
- Ø§Ù„Ù‚Ø·Ø§Ø¹Ø§Øª Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø© ÙÙŠÙ‡Ø§
- Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
- Ø§Ù„ÙÙˆØ§Ø¦Ø¯ Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ©

5) Ø§Ù„ØµÙŠØ§Ù†Ø© ÙˆØ§Ù„Ø¹Ù†Ø§ÙŠØ©:
- Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø§Ù„ØµÙŠØ§Ù†Ø©
- ÙØªØ±Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø©
- Ø§Ø­ØªÙŠØ§Ø·Ø§Øª Ø§Ù„Ø³Ù„Ø§Ù…Ø©

6) Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„ÙÙ†ÙŠØ©:
- Ø§Ù„Ø³Ø¹Ø©/Ø§Ù„ÙƒÙØ§Ø¡Ø©
- Ù†Ø·Ø§Ù‚ Ø§Ù„ØªØ´ØºÙŠÙ„
- Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø·Ø§Ù‚Ø©

Ø§Ø®ØªØªÙ… Ø¨Ù€:
âœ… Ù…Ù„Ø®Øµ Ø³Ø±ÙŠØ¹: (Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ù…Ø®ØªØµØ±Ø© Ø¹Ù† Ø§Ù„ÙÙˆØ§Ø¦Ø¯ ÙˆØ§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª)

Ù‚ÙˆØ§Ø¹Ø¯:
- ÙƒÙ† Ø¯Ù‚ÙŠÙ‚Ù‹Ø§ ÙˆØªÙ‚Ù†ÙŠÙ‹Ø§
- Ù‚Ù… Ø¨Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø¨Ù†Ø§Ø¡Ù‹ ÙÙ‚Ø· Ø¹Ù„Ù‰ Ù…Ø§ Ù‡Ùˆ Ù…Ø±Ø¦ÙŠ
- Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…ØµØ·Ù„Ø­Ø§Øª Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ©
"""
        },
        'person': {
            'ku': """
ØªÛ† Ø´ÛŒÚ©Û•Ø±Û•ÙˆÛ•ÛŒ ÙˆÛÙ†Û•ÛŒ Ú©Û•Ø³.

ÙˆÛÙ†Û•ÛŒ Ø¨Ø§Ø±Ú©Ø±Ø§Ùˆ Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ• Ø¨Ú©Û• Ø¨Û• ÙˆØ±Ø¯ÛŒ (Ø¨Û•Ø¨Û Ù¾Ø§Ø±Ø§Ø³ØªÙ†ÛŒ ØªØ§ÛŒØ¨Û•ØªÙ…Û•Ù†Ø¯ÛŒ):

1) ØªÛ•Ù…Û•Ù† Ùˆ Ú•Û•Ú¯Û•Ø²:
- Ø®Û•Ù…ÚµÛŒÙ†ÛÚ©ÛŒ ØªÛ•Ù…Û•Ù†
- Ú•Û•Ú¯Û•Ø² (Ø¦Û•Ú¯Û•Ø± Ø¯ÛŒØ§Ø±Ø¨ÙˆÙˆ)

2) Ø¬Ù„ÙˆØ¨Û•Ø±Ú¯ Ùˆ Ø´ÛÙˆØ§Ø²:
- Ø¬Û†Ø±ÛŒ Ø¬Ù„ÙˆØ¨Û•Ø±Ú¯
- Ú•Û•Ù†Ú¯ÛŒ Ø³Û•Ø±Û•Ú©ÛŒ
- Ø´ÛÙˆØ§Ø²ÛŒ Ú¯Ø´ØªÛŒ

3) Ø¯ÛŒÙ…Û•Ù†ÛŒ Ø¯Û•Ø±ÙˆÙˆÙ†ÛŒ:
- Ø¯Û•Ø±Ø¨Ú•ÛŒÙ†ÛŒ Ú•ÙˆÙˆØ®Ø³Ø§Ø±
- Ø´ÛÙˆØ§Ø²ÛŒ Ù„Ø§Ø´Û•
- Ø¦Ø§Ø±Ø§Ù… ÛŒØ§Ù† Ø¨Û Ø¦Ø§Ø±Ø§Ù…ÛŒ Ú¯Ø´ØªÛŒ

4) Ú†Ø§Ù„Ø§Ú©ÛŒ/Ø¦Û•Ú©ØªÛ•Ú¤ÛŒØªÛŒ:
- Ú†Ø§Ù„Ø§Ú©ÛŒÛŒÛ•Ú©Û•ÛŒ Ú©Û• Ø¦Û•Ù†Ø¬Ø§Ù…ÛŒ Ø¯Û•Ø¯Ø§Øª (Ø¦Û•Ú¯Û•Ø± Ø¯ÛŒØ§Ø±Ø¨ÙˆÙˆ)
- Ø´ÙˆÛÙ†/Ø¦Û•Ù†Ú¤Ø§ÛŒØ±Û†Ù†Ù…ÛÙ†Øª
- Ú©Û•Ù„ÙˆÙ¾Û•Ù„Û• Ù¾Û•ÛŒÙˆÛ•Ù†Ø¯ÛŒØ¯Ø§Ø±Û•Ú©Ø§Ù†

5) ØªØ§ÛŒØ¨Û•ØªÙ…Û•Ù†Ø¯ÛŒÛŒÛ• ØªØ§ÛŒØ¨Û•ØªÛ•Ú©Ø§Ù†:
- Ù‚Û•Ø¨Ø§Ø±Û•ÛŒ Ú¯Ø´ØªÛŒ
- Ù‚Û•ÚµÛ•ÙˆÛŒ/Ù„Ø§ÙˆÛŒ
- ØªØ§ÛŒØ¨Û•ØªÙ…Û•Ù†Ø¯ÛŒÛŒÛ• Ø¯ÛŒØ§Ø±Û•Ú©Ø§Ù†

6) ØªÛØ¨ÛŒÙ†ÛŒ Ú¯Ø´ØªÛŒ:
- Ù¾ÙˆØ®ØªÛ•ÛŒÛ•Ú© Ù„Û•Ø³Û•Ø± Ø¯ÛŒÙ…Û•Ù†ÛŒ Ú¯Ø´ØªÛŒ
- Ø¨Ø§Ø±ÙˆØ¯Û†Ø®ÛŒ Ú•ÙˆÙˆÙ†ÛŒ

âš ï¸ Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø± Ø¨Û•: Ù‡ÛŒÚ† Ø²Ø§Ù†ÛŒØ§Ø±ÛŒÛŒÛ•Ú©ÛŒ ØªØ§ÛŒØ¨Û•Øª Ø¯Ø±ÙˆØ³Øª Ù…Û•Ú©Û•. Ù‡Û•Ø± ÙˆÛ•Ø³ÙÛÚ© ØªÛ•Ù†Ù‡Ø§ Ù„Û•Ø³Û•Ø± Ø¨Ù†Û•Ù…Ø§ÛŒ ÙˆÛÙ†Û•Ú©Û• Ø¨ÛØª.
""",
            'en': """
You are a person image analyzer.

Analyze the uploaded image carefully (without preserving identity):

1) Age & Gender:
- Approximate age range
- Gender (if discernible)

2) Clothing & Style:
- Type of clothing
- Primary colors
- Overall style

3) Physical Appearance:
- Facial expression
- Posture/body language
- General calmness or activity

4) Activity/Context:
- Activity being performed (if visible)
- Location/environment
- Related objects

5) Physical Characteristics:
- Overall build
- Height/weight estimation
- Notable features

6) General Observations:
- Summary of overall appearance
- Contextual situation

âš ï¸ IMPORTANT: Do not create any personal information. All descriptions must be based solely on the image.
""",
            'ar': """
Ø£Ù†Øª Ù…Ø­Ù„Ù„ ØµÙˆØ± Ø§Ù„Ø£Ø´Ø®Ø§Øµ.

Ù‚Ù… Ø¨ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø© Ø¨Ø¹Ù†Ø§ÙŠØ© (Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ù‡ÙˆÙŠØ©):

1) Ø§Ù„Ø¹Ù…Ø± ÙˆØ§Ù„Ø¬Ù†Ø³:
- Ù†Ø·Ø§Ù‚ Ø¹Ù…Ø± ØªÙ‚Ø±ÙŠØ¨ÙŠ
- Ø§Ù„Ø¬Ù†Ø³ (Ø¥Ø°Ø§ ÙƒØ§Ù† ÙˆØ§Ø¶Ø­Ù‹Ø§)

2) Ø§Ù„Ù…Ù„Ø§Ø¨Ø³ ÙˆØ§Ù„Ø£Ø³Ù„ÙˆØ¨:
- Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ø§Ø¨Ø³
- Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
- Ø§Ù„Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„Ø¹Ø§Ù…

3) Ø§Ù„Ù…Ø¸Ù‡Ø± Ø§Ù„Ø¬Ø³Ø¯ÙŠ:
- ØªØ¹Ø¨ÙŠØ± Ø§Ù„ÙˆØ¬Ù‡
- Ø§Ù„ÙˆØ¶Ø¹ÙŠØ©/Ù„ØºØ© Ø§Ù„Ø¬Ø³Ø¯
- Ø§Ù„Ù‡Ø¯ÙˆØ¡ Ø§Ù„Ø¹Ø§Ù… Ø£Ùˆ Ø§Ù„Ù†Ø´Ø§Ø·

4) Ø§Ù„Ù†Ø´Ø§Ø·/Ø§Ù„Ø³ÙŠØ§Ù‚:
- Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø°ÙŠ ÙŠØªÙ… Ø£Ø¯Ø§Ø¤Ù‡ (Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø±Ø¦ÙŠÙ‹Ø§)
- Ø§Ù„Ù…ÙˆÙ‚Ø¹/Ø§Ù„Ø¨ÙŠØ¦Ø©
- Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø°Ø§Øª Ø§Ù„ØµÙ„Ø©

5) Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„Ø¬Ø³Ø¯ÙŠØ©:
- Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø©
- ØªÙ‚Ø¯ÙŠØ± Ø§Ù„Ø·ÙˆÙ„/Ø§Ù„ÙˆØ²Ù†
- Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ù„Ø­ÙˆØ¸Ø©

6) Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©:
- Ù…Ù„Ø®Øµ Ù„Ù„Ù…Ø¸Ù‡Ø± Ø§Ù„Ø¹Ø§Ù…
- Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø³ÙŠØ§Ù‚ÙŠ

âš ï¸ Ù…Ù‡Ù…: Ù„Ø§ ØªÙ†Ø´Ø¦ Ø£ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø´Ø®ØµÙŠØ©. ÙŠØ¬Ø¨ Ø£Ù† ØªØ³ØªÙ†Ø¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙˆØµØ§Ù ÙÙ‚Ø· Ø¥Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø©.
"""
        },
        'environment': {
            'ku': """
ØªÛ† Ø´ÛŒÚ©Û•Ø±Û•ÙˆÛ•ÛŒ ÙˆÛÙ†Û•ÛŒ Ú˜ÛŒÙ†Ú¯Û•.

ÙˆÛÙ†Û•ÛŒ Ø¨Ø§Ø±Ú©Ø±Ø§Ùˆ Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ• Ø¨Ú©Û• Ø¨Û• ÙˆØ±Ø¯ÛŒ:

1) Ø¬Û†Ø±ÛŒ Ú˜ÛŒÙ†Ú¯Û•:
- Ø´Ø§Ø±Ø³ØªØ§Ù†Û•ØŒ Ú•ÙˆÛ•Ú©ÛŒØŒ Ø¯Û•Ø±ÛŒØ§ÛŒÛŒØŒ Ú©ÙˆÛØ³ØªØ§Ù†ØŒ Ù‡ØªØ¯.
- Ø¬Û†Ø±ÛŒ Ø®Ø§Ú© Ùˆ Ø´ÙˆÛÙ†

2) ØªØ§ÛŒØ¨Û•ØªÙ…Û•Ù†Ø¯ÛŒÛŒÛ• Ø³Ø±ÙˆØ´ØªÛŒÛŒÛ•Ú©Ø§Ù†:
- Ú•ÙˆÛ•Ú© Ùˆ Ø¯Ø§Ø±
- Ø¦Ø§Ú˜Û•Úµ Ùˆ Ù…Û•Ú•ÙˆÙˆÙ…Û•Ù„ÙˆÙ„Û•
- Ø¦Ø§Ùˆ Ùˆ Ú•ÙˆÙˆØ¨Ø§Ø±
- Ø´ÛÙˆØ§Ø²ÛŒ Ø®Ø§Ú©

3) ØªØ§ÛŒØ¨Û•ØªÙ…Û•Ù†Ø¯ÛŒÛŒÛ• Ù…Ø±Û†Ú¤ÛŒÛŒÛ•Ú©Ø§Ù†:
- Ø¨ÛŒÙ†Ø§ Ùˆ Ù¾ÛÚ©Ù‡Ø§ØªÛ•
- Ú•ÛÚ¯Ø§ Ùˆ Ù¾Ù„Û•
- Ù¾ÛÚ©Ù‡Ø§ØªÛ•ÛŒ Ù¾ÛŒØ´Û•Ø³Ø§Ø²ÛŒ

4) Ú©ÙˆØ§Ù„ÛØªÛŒ Ú˜ÛŒÙ†Ú¯Û•:
- Ù¾Ø§Ú©ÛŒ Ùˆ Ù¾Ø§Ú©Ú¯Û•Ø±Ø§ÛŒÛŒ
- Ø¬Û†Ø±ÛŒ Ù‡Û•ÙˆØ§
- Ø¯ÛŒØ§Ø±ÛŒÚ©Ø±Ø¯Ù†ÛŒ Ú©ÛØ´Û• Ø¦Û•Ú¯Û•Ø± Ù‡Û•Ø¨ÙˆÙˆ

5) Ú©Ø§Ø±ÛŒÚ¯Û•Ø±ÛŒÛŒÛ• Ú˜ÛŒÙ†Ú¯Û•ÛŒÛŒÛŒÛ•Ú©Ø§Ù†:
- Ú©Ø§Ø±ÛŒÚ¯Û•Ø±ÛŒ Ù„Û•Ø³Û•Ø± Ø³Ø±ÙˆØ´Øª
- ØªÙˆØ§Ù†Ø§ÛŒ Ù¾Ø§Ø±Ø§Ø³ØªÙ†
- Ú•Û•ÙˆØ´ØªÛŒ Ú˜ÛŒÙ†Ú¯Û•ÛŒÛŒ

6) Ù¾ÛØ´Ù†ÛŒØ§Ø±ÛŒ Ù¾Ø§Ø±Ø§Ø³ØªÙ†:
- Ú•ÛÚ¯Ø§Ú©Ø§Ù†ÛŒ Ù¾Ø§Ø±Ø§Ø³ØªÙ†
- Ù¾ÛØ´Ù†ÛŒØ§Ø±ÛŒ Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Û•Ø±
- Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±ÛŒÛ• Ú˜ÛŒÙ†Ú¯Û•ÛŒÛŒÛŒÛ•Ú©Ø§Ù†

Ú©Û†ØªØ§ÛŒÛŒ Ø¨Ú©Û• Ø¨Û•:
âœ… Ù¾ÙˆØ®ØªÛ•ÛŒ Ú˜ÛŒÙ†Ú¯Û•ÛŒÛŒ: (Ù¾ÙˆØ®ØªÛ•ÛŒÛ•Ú©ÛŒ Ú©ÙˆØ±Øª Ù„Û•Ø³Û•Ø± Ø¯Û†Ø®ÛŒ Ú˜ÛŒÙ†Ú¯Û•)

Ù‚ÙˆØ§Ø¹Ø¯:
- Ø²Ø§Ù†Ø³ØªÛŒ Ùˆ Ú˜ÛŒÙ†Ú¯Û•ÛŒÛŒ Ø¨Û•
- Ø¯ÛŒØ§Ø±ÛŒÚ©Ø±Ø¯Ù†ÛŒ Ú©ÛØ´Û•Ú©Ø§Ù†ÛŒ Ú˜ÛŒÙ†Ú¯Û• Ø¦Û•Ú¯Û•Ø± Ù‡Û•Ø¨ÙˆÙˆÙ†
""",
            'en': """
You are an environmental image analyzer.

Analyze the uploaded image carefully:

1) Environment Type:
- Urban, vegetation, marine, mountainous, etc.
- Terrain and location type

2) Natural Features:
- Plants and trees
- Animals and wildlife
- Water bodies and rivers
- Soil patterns

3) Human Features:
- Buildings and structures
- Roads and pathways
- Industrial elements

4) Environmental Quality:
- Cleanliness and pollution
- Air quality indicators
- Problem identification if present

5) Environmental Impact:
- Impact on nature
- Conservation potential
- Ecological balance

6) Conservation Suggestions:
- Protection methods
- User recommendations
- Environmental warnings

End with:
âœ… Environmental Summary: (Brief overview of environmental status)

Rules:
- Be scientific and environmental
- Identify environmental issues if present
""",
            'ar': """
Ø£Ù†Øª Ù…Ø­Ù„Ù„ ØµÙˆØ± Ø¨ÙŠØ¦ÙŠØ©.

Ù‚Ù… Ø¨ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø© Ø¨Ø¹Ù†Ø§ÙŠØ©:

1) Ù†ÙˆØ¹ Ø§Ù„Ø¨ÙŠØ¦Ø©:
- Ø­Ø¶Ø±ÙŠØŒ Ù†Ø¨Ø§ØªÙŠØŒ Ø¨Ø­Ø±ÙŠØŒ Ø¬Ø¨Ù„ÙŠØŒ Ø¥Ù„Ø®.
- Ù†ÙˆØ¹ Ø§Ù„ØªØ¶Ø§Ø±ÙŠØ³ ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹

2) Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©:
- Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª ÙˆØ§Ù„Ø£Ø´Ø¬Ø§Ø±
- Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª ÙˆØ§Ù„Ø­ÙŠØ§Ø© Ø§Ù„Ø¨Ø±ÙŠØ©
- Ø§Ù„Ù…Ø³Ø·Ø­Ø§Øª Ø§Ù„Ù…Ø§Ø¦ÙŠØ© ÙˆØ§Ù„Ø£Ù†Ù‡Ø§Ø±
- Ø£Ù†Ù…Ø§Ø· Ø§Ù„ØªØ±Ø¨Ø©

3) Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø¨Ø´Ø±ÙŠØ©:
- Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ ÙˆØ§Ù„Ù‡ÙŠØ§ÙƒÙ„
- Ø§Ù„Ø·Ø±Ù‚ ÙˆØ§Ù„Ù…Ù…Ø±Ø§Øª
- Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ©

4) Ø§Ù„Ø¬ÙˆØ¯Ø© Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©:
- Ø§Ù„Ù†Ø¸Ø§ÙØ© ÙˆØ§Ù„ØªÙ„ÙˆØ«
- Ù…Ø¤Ø´Ø±Ø§Øª Ø¬ÙˆØ¯Ø© Ø§Ù„Ù‡ÙˆØ§Ø¡
- ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø¥Ù† ÙˆØ¬Ø¯Øª

5) Ø§Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¨ÙŠØ¦ÙŠ:
- Ø§Ù„ØªØ£Ø«ÙŠØ± Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø¨ÙŠØ¹Ø©
- Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø­ÙØ¸
- Ø§Ù„ØªÙˆØ§Ø²Ù† Ø§Ù„Ø¨ÙŠØ¦ÙŠ

6) Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„Ø­ÙØ¸:
- Ø·Ø±Ù‚ Ø§Ù„Ø­Ù…Ø§ÙŠØ©
- ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- ØªØ­Ø°ÙŠØ±Ø§Øª Ø¨ÙŠØ¦ÙŠØ©

Ø§Ø®ØªØªÙ… Ø¨Ù€:
âœ… Ù…Ù„Ø®Øµ Ø¨ÙŠØ¦ÙŠ: (Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ù…Ø®ØªØµØ±Ø© Ø¹Ù† Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©)

Ù‚ÙˆØ§Ø¹Ø¯:
- ÙƒÙ† Ø¹Ù„Ù…ÙŠÙ‹Ø§ ÙˆØ¨ÙŠØ¦ÙŠÙ‹Ø§
- Ø­Ø¯Ø¯ Ø§Ù„Ù…Ø´ÙƒÙ„Ø§Øª Ø§Ù„Ø¨ÙŠØ¦ÙŠØ© Ø¥Ù† ÙˆØ¬Ø¯Øª
"""
        },
        'safety': {
            'ku': """
ØªÛ† Ø´ÛŒÚ©Û•Ø±Û•ÙˆÛ•ÛŒ ÙˆÛÙ†Û•ÛŒ Ø¦Ø§Ø³Ø§ÛŒØ´.

ÙˆÛÙ†Û•ÛŒ Ø¨Ø§Ø±Ú©Ø±Ø§Ùˆ Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ• Ø¨Ú©Û• Ø¨Û• ÙˆØ±Ø¯ÛŒ:

1) Ø¬Û†Ø±ÛŒ Ù…Û•ØªØ±Ø³ÛŒ:
- Ù…Û•ØªØ±Ø³ÛŒÛŒÛ• ÙÛŒØ²ÛŒØ§ÛŒÛŒÛŒÛ•Ú©Ø§Ù†
- Ù…Û•ØªØ±Ø³ÛŒÛŒÛ• Ú©ÛŒÙ…ÛŒØ§ÛŒÛŒÛŒÛ•Ú©Ø§Ù†
- Ù…Û•ØªØ±Ø³ÛŒÛŒÛ• Ú©Ø§Ø±Û•Ø¨Ø§ÛŒÛŒÛŒÛ•Ú©Ø§Ù†
- Ù…Û•ØªØ±Ø³ÛŒÛŒÛ• Ú˜ÛŒÙ†Ú¯Û•ÛŒÛŒÛŒÛ•Ú©Ø§Ù†

2) Ù†ÛŒØ´Ø§Ù†Û•Ú©Ø§Ù†ÛŒ Ø¦Ø§Ø³Ø§ÛŒØ´:
- Ù†ÛŒØ´Ø§Ù†Û•ÛŒ Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±Ú©Ø±Ø¯Ù†Û•ÙˆÛ•
- Ù†ÛŒØ´Ø§Ù†Û•ÛŒ Ù‚Û•Ø¯Û•ØºÛ•Ú©Ø±Ø¯Ù†
- Ù†ÛŒØ´Ø§Ù†Û•ÛŒ Ø¦ÛŒÙ†Ø³ØªØ±Ø§Ú©Ø´Ù†

3) Ú©Û•Ù„ÙˆÙ¾Û•Ù„Û• Ù¾Ø§Ø±ÛØ²Ú¯Ø§Ø±ÛŒÛŒÛ•Ú©Ø§Ù†:
- Ú©Û•Ù„ÙˆÙ¾Û•Ù„Û• Ù¾Ø§Ø±ÛØ²Ú¯Ø§Ø±ÛŒ Ú©Û•Ø³ÛŒ (PPE)
- Ø¦Ø§Ù…ÛØ±Û•Ú©Ø§Ù†ÛŒ Ù¾Ø§Ø±Ø§Ø³ØªÙ†
- Ø³ÛŒØ³ØªÛ•Ù…Û•Ú©Ø§Ù†ÛŒ Ø¦Ø§Ø³Ø§ÛŒØ´

4) Ú•ÛÚ©Ø§Ø±Û•Ú©Ø§Ù†ÛŒ Ø¦Ø§Ø³Ø§ÛŒØ´:
- Ú•ÛÚ©Ø§Ø±Û• Ù¾ÛØ´Ú¯ÛŒØ±ÛŒÛŒÛ•Ú©Ø§Ù†
- Ù¾Ú•Û†Ø³Û•ÛŒ Ù„Û•Ù†Ø§ÙˆØ¨Ø±Ø¯Ù†ÛŒ Ù…Û•ØªØ±Ø³ÛŒ
- Ù¾Ù„Ø§Ù†ÛŒ ÙØ±ÛŒØ§Ú©Û•ÙˆØªÙ†

5) Ù¾ÛÙˆØ§Ù†Û•Ú©Ø§Ù†ÛŒ Ø¦Ø§Ø³Ø§ÛŒØ´:
- Ù¾Ù„Û•ÛŒ Ù…Û•ØªØ±Ø³ÛŒ (Ú©Û•Ù…ØŒ Ù…Ø§Ù…Ù†Ø§ÙˆÛ•Ù†Ø¯ØŒ Ø¨Û•Ø±Ø²)
- Ú©Ø§Ø±ÛŒÚ¯Û•Ø±ÛŒÛŒÛ•Ú©Ø§Ù†ÛŒ Ú©ÙˆØ±Øª-Ù…Ø§ÙˆÛ• Ùˆ Ø¯Ø±ÛÚ˜-Ù…Ø§ÙˆÛ•
- Ù…Û•ÙˆØ¯Ø§ÛŒ Ú©Ø§Ø±ÛŒÚ¯Û•Ø±ÛŒ

6) Ù¾ÛØ´Ù†ÛŒØ§Ø±Û•Ú©Ø§Ù†ÛŒ Ø¦Ø§Ø³Ø§ÛŒØ´:
- Ú•ÛÙ†Ù…Ø§ÛŒÛŒ Ú©Ø§Ø±Ù…Û•Ù†Ø¯Ø§Ù†
- Ù¾ÛØ´Ù†ÛŒØ§Ø±ÛŒ Ù‚Û•Ø¯Û•ØºÛ•Ú©Ø±Ø¯Ù†
- Ù¾ÛÙˆÛŒØ³ØªÛŒ Ú•Ø§Ù‡ÛÙ†Ø§Ù†

Ú©Û†ØªØ§ÛŒÛŒ Ø¨Ú©Û• Ø¨Û•:
âš ï¸ Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±ÛŒ Ø¦Ø§Ø³Ø§ÛŒØ´ÛŒ: (Ù¾ÛØ´Ù†ÛŒØ§Ø±ÛŒ Ø¦Ø§Ø³Ø§ÛŒØ´ÛŒ Ú•ÙˆÙˆÙ†)

Ù‚ÙˆØ§Ø¹Ø¯:
- ÙˆØ±Ø¯ Ùˆ Ú•ÙˆÙˆÙ† Ø¨Û• Ù„Û•Ø¨Ø§Ø±Û•ÛŒ Ù…Û•ØªØ±Ø³ÛŒÛŒÛ•Ú©Ø§Ù†Û•ÙˆÛ•
- Ø¯ÛŒØ§Ø±ÛŒÚ©Ø±Ø¯Ù†ÛŒ Ú©Û•Ù„ÙˆÙ¾Û•Ù„Û• Ù¾Ø§Ø±ÛØ²Ú¯Ø§Ø±ÛŒ Ù¾ÛÙˆÛŒØ³Øª
""",
            'en': """
You are a safety image analyzer.

Analyze the uploaded image carefully:

1) Hazard Type:
- Physical hazards
- Chemical hazards
- Electrical hazards
- Environmental hazards

2) Safety Signs:
- Warning signs
- Prohibition signs
- Instruction signs

3) Protective Equipment:
- Personal Protective Equipment (PPE)
- Protection devices
- Safety systems

4) Safety Measures:
- Preventive measures
- Hazard elimination process
- Emergency plans

5) Safety Metrics:
- Risk level (Low, Medium, High)
- Short-term and long-term effects
- Impact range

6) Safety Recommendations:
- Worker guidelines
- Prohibition recommendations
- Training requirements

End with:
âš ï¸ Safety Warning: (Clear safety recommendation)

Rules:
- Be precise and clear about hazards
- Identify necessary protective equipment
""",
            'ar': """
Ø£Ù†Øª Ù…Ø­Ù„Ù„ ØµÙˆØ± Ø§Ù„Ø³Ù„Ø§Ù…Ø©.

Ù‚Ù… Ø¨ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø© Ø¨Ø¹Ù†Ø§ÙŠØ©:

1) Ù†ÙˆØ¹ Ø§Ù„Ø®Ø·Ø±:
- Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ù…Ø§Ø¯ÙŠØ©
- Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ©
- Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©
- Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©

2) Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø³Ù„Ø§Ù…Ø©:
- Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„ØªØ­Ø°ÙŠØ±
- Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ù…Ù†Ø¹
- Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª

3) Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø­Ù…Ø§ÙŠØ©:
- Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø´Ø®ØµÙŠØ© (PPE)
- Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø­Ù…Ø§ÙŠØ©
- Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø³Ù„Ø§Ù…Ø©

4) Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø³Ù„Ø§Ù…Ø©:
- Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„ÙˆÙ‚Ø§Ø¦ÙŠØ©
- Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ù‚Ø¶Ø§Ø¡ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø®Ø§Ø·Ø±
- Ø®Ø·Ø· Ø§Ù„Ø·ÙˆØ§Ø±Ø¦

5) Ù…Ù‚Ø§ÙŠÙŠØ³ Ø§Ù„Ø³Ù„Ø§Ù…Ø©:
- Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…Ø®Ø§Ø·Ø±Ø© (Ù…Ù†Ø®ÙØ¶ØŒ Ù…ØªÙˆØ³Ø·ØŒ Ø¹Ø§Ù„ÙŠ)
- Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ù‚ØµÙŠØ±Ø© ÙˆØ·ÙˆÙŠÙ„Ø© Ø§Ù„Ù…Ø¯Ù‰
- Ù†Ø·Ø§Ù‚ Ø§Ù„ØªØ£Ø«ÙŠØ±

6) ØªÙˆØµÙŠØ§Øª Ø§Ù„Ø³Ù„Ø§Ù…Ø©:
- Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ù…Ø§Ù„
- ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù…Ù†Ø¹
- Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨

Ø§Ø®ØªØªÙ… Ø¨Ù€:
âš ï¸ ØªØ­Ø°ÙŠØ± Ø§Ù„Ø³Ù„Ø§Ù…Ø©: (ØªÙˆØµÙŠØ© Ø³Ù„Ø§Ù…Ø© ÙˆØ§Ø¶Ø­Ø©)

Ù‚ÙˆØ§Ø¹Ø¯:
- ÙƒÙ† Ø¯Ù‚ÙŠÙ‚Ù‹Ø§ ÙˆÙˆØ§Ø¶Ø­Ù‹Ø§ Ø¨Ø´Ø£Ù† Ø§Ù„Ù…Ø®Ø§Ø·Ø±
- Ø­Ø¯Ø¯ Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù„Ø§Ø²Ù…Ø©
"""
        },
        'objects': {
            'ku': """
ØªÛ† Ø´ÛŒÚ©Û•Ø±Û•ÙˆÛ•ÛŒ ÙˆÛÙ†Û•ÛŒ Ø´ØªÙˆÙ…Û•Ú©.

ÙˆÛÙ†Û•ÛŒ Ø¨Ø§Ø±Ú©Ø±Ø§Ùˆ Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ• Ø¨Ú©Û• Ø¨Û• ÙˆØ±Ø¯ÛŒ:

1) Ø¬Û†Ø±ÛŒ Ø´Øª:
- Ù†Ø§ÙˆÛŒ Ú¯Ø´ØªÛŒ
- Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†ÛŒ Ø³Û•Ø±Û•Ú©ÛŒ

2) ØªØ§ÛŒØ¨Û•ØªÙ…Û•Ù†Ø¯ÛŒÛŒÛ• ÙÛŒØ²ÛŒØ§ÛŒÛŒÛŒÛ•Ú©Ø§Ù†:
- Ù‚Û•Ø¨Ø§Ø±Û• Ùˆ Ù‚Û•Ø¨Ø§Ø±Û•
- Ú•Û•Ù†Ú¯ Ùˆ Ù…Ø§Ø¯Ø¯Û•
- Ù‚Û•ÚµÛ•ÙˆÛŒ Ùˆ Ú©ÛØ´

3) Ù¾ÛÚ©Ù‡Ø§ØªÛ• Ùˆ Ø¯ÛŒØ²Ø§ÛŒÙ†:
- Ù¾ÛÚ©Ù‡Ø§ØªÛ•Ú©Ø§Ù†ÛŒ Ø³Û•Ø±Û•Ú©ÛŒ
- Ø¯ÛŒØ²Ø§ÛŒÙ†ÛŒ Ú¯Ø´ØªÛŒ
- ØªØ§ÛŒØ¨Û•ØªÙ…Û•Ù†Ø¯ÛŒÛŒÛ• ØªØ§ÛŒØ¨Û•ØªÛ•Ú©Ø§Ù†

4) Ú©Ø§Ø±Ú©Ø±Ø¯ Ùˆ Ø³ÙˆÙˆØ¯:
- Ú†Û†Ù†ÛŒÛ•ØªÛŒ Ú©Ø§Ø±ÛŒ
- Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†Û• Ø³Û•Ø±Û•Ú©ÛŒÛŒÛ•Ú©Ø§Ù†
- Ø³ÙˆÙˆØ¯Û•Ú©Ø§Ù†

5) Ù…Ø§Ù†Ø¯ÙˆÙˆØ¨ÙˆÙˆÙ† Ùˆ ØªÛ•Ù…Û•Ù†:
- Ø®Û•Ù…ÚµÛŒÙ†ÛŒ ØªÛ•Ù…Û•Ù†
- Ø¯ÛŒØ§Ø±ÛŒÚ©Ø±Ø¯Ù†ÛŒ Ù…Ø§Ù†Ø¯ÙˆÙˆØ¨ÙˆÙˆÙ† Ø¦Û•Ú¯Û•Ø± Ù‡Û•Ø¨ÙˆÙˆ
- Ù¾ÛØ¯Ø§ÙˆÛŒØ³ØªÛŒ Ú†Ø§Ú©Ú©Ø±Ø¯Ù†Û•ÙˆÛ•

6) Ø¨Û•Ù‡Ø§ÛŒ Ø¨Ø§Ø²Ø±Ú¯Ø§Ù†ÛŒ:
- Ø®Û•Ù…ÚµÛŒÙ†ÛŒ Ø¨Û•Ù‡Ø§ÛŒ Ø¨Ø§Ø²Ø±Ú¯Ø§Ù†ÛŒ
- Ø¨Û•Ù‡Ø§ÛŒ Ø¨Ø§Ø²Ø±Ú¯Ø§Ù†ÛŒ Ù„Û• Ø¨Ø§Ø²Ø§Ú•Ø¯Ø§
- Ù¾ÛØ´Ù†ÛŒØ§Ø± Ø¨Û† Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Û•Ø±

Ú©Û†ØªØ§ÛŒÛŒ Ø¨Ú©Û• Ø¨Û•:
âœ… Ù¾ÙˆØ®ØªÛ•ÛŒ Ø´Øª: (Ù¾ÙˆØ®ØªÛ•ÛŒÛ•Ú©ÛŒ Ú©ÙˆØ±Øª Ù„Û•Ø³Û•Ø± Ø³ÙˆÙˆØ¯ Ùˆ Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†)

Ù‚ÙˆØ§Ø¹Ø¯:
- ÙˆØ±Ø¯ Ùˆ Ú•ÙˆÙˆÙ† Ø¨Û•
- ØªÛ•Ù†Ù‡Ø§ Ù„Û•Ø³Û•Ø± Ø¨Ù†Û•Ù…Ø§ÛŒ ÙˆÛÙ†Û•Ú©Û• Ù‚Ø³Û• Ø¨Ú©Û•
- Ù‡ÛŒÚ† Ø²Ø§Ù†ÛŒØ§Ø±ÛŒÛŒÛ•Ú©ÛŒ Ù†Ø§Ø¯ÛŒØ§Ø± Ø¯Ø±ÙˆØ³Øª Ù…Û•Ú©Û•
""",
            'en': """
You are an object image analyzer.

Analyze the uploaded image carefully:

1) Object Type:
- General name
- Primary purpose

2) Physical Characteristics:
- Size and dimensions
- Color and material
- Weight and thickness

3) Structure & Design:
- Main components
- Overall design
- Special features

4) Function & Utility:
- How it works
- Main uses
- Benefits

5) Wear & Age:
- Age estimation
- Wear identification if present
- Repair needs

6) Commercial Value:
- Value estimation
- Market worth
- User recommendations

End with:
âœ… Object Summary: (Brief overview of utility and applications)

Rules:
- Be precise and clear
- Base analysis only on the image
- Do not hallucinate unseen details
""",
            'ar': """
Ø£Ù†Øª Ù…Ø­Ù„Ù„ ØµÙˆØ± Ø§Ù„Ø£Ø´ÙŠØ§Ø¡.

Ù‚Ù… Ø¨ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø© Ø¨Ø¹Ù†Ø§ÙŠØ©:

1) Ù†ÙˆØ¹ Ø§Ù„ÙƒØ§Ø¦Ù†:
- Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¹Ø§Ù…
- Ø§Ù„ØºØ±Ø¶ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ

2) Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ©:
- Ø§Ù„Ø­Ø¬Ù… ÙˆØ§Ù„Ø£Ø¨Ø¹Ø§Ø¯
- Ø§Ù„Ù„ÙˆÙ† ÙˆØ§Ù„Ù…Ø§Ø¯Ø©
- Ø§Ù„ÙˆØ²Ù† ÙˆØ§Ù„Ø³ÙÙ…Ùƒ

3) Ø§Ù„Ù‡ÙŠÙƒÙ„ ÙˆØ§Ù„ØªØµÙ…ÙŠÙ…:
- Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
- Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¹Ø§Ù…
- Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø®Ø§ØµØ©

4) Ø§Ù„ÙˆØ¸ÙŠÙØ© ÙˆØ§Ù„Ù…Ù†ÙØ¹Ø©:
- ÙƒÙŠÙÙŠØ© Ø¹Ù…Ù„Ù‡Ø§
- Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
- Ø§Ù„ÙÙˆØ§Ø¦Ø¯

5) Ø§Ù„Ø¨Ù„Ù‰ ÙˆØ§Ù„Ø¹Ù…Ø±:
- ØªÙ‚Ø¯ÙŠØ± Ø§Ù„Ø¹Ù…Ø±
- ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¨Ù„Ù‰ Ø¥Ù† ÙˆØ¬Ø¯
- Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø§Ù„Ø¥ØµÙ„Ø§Ø­

6) Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©:
- ØªÙ‚Ø¯ÙŠØ± Ø§Ù„Ù‚ÙŠÙ…Ø©
- Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø³ÙˆÙ‚ÙŠØ©
- ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

Ø§Ø®ØªØªÙ… Ø¨Ù€:
âœ… Ù…Ù„Ø®Øµ Ø§Ù„ÙƒØ§Ø¦Ù†: (Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ù…Ø®ØªØµØ±Ø© Ø¹Ù† Ø§Ù„Ù…Ù†ÙØ¹Ø© ÙˆØ§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª)

Ù‚ÙˆØ§Ø¹Ø¯:
- ÙƒÙ† Ø¯Ù‚ÙŠÙ‚Ù‹Ø§ ÙˆÙˆØ§Ø¶Ø­Ù‹Ø§
- Ù‚Ù… Ø¨Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø¨Ù†Ø§Ø¡Ù‹ ÙÙ‚Ø· Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø©
- Ù„Ø§ ØªØ®ØªÙ„Ù‚ ØªÙØ§ØµÙŠÙ„ ØºÙŠØ± Ù…Ø±Ø¦ÙŠØ©
"""
        },
        'food': {
            'ku': """
ØªÛ† Ø´ÛŒÚ©Û•Ø±Û•ÙˆÛ•ÛŒ ÙˆÛÙ†Û•ÛŒ Ø®Û†Ø±Ø§Ú©.

ÙˆÛÙ†Û•ÛŒ Ø¨Ø§Ø±Ú©Ø±Ø§Ùˆ Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ• Ø¨Ú©Û• Ø¨Û• ÙˆØ±Ø¯ÛŒ:

1) Ø¬Û†Ø±ÛŒ Ø®Û†Ø±Ø§Ú©:
- Ù†Ø§ÙˆÛŒ Ø®Û†Ø±Ø§Ú©
- Ø¬Û†Ø±ÛŒ (Ù…ÛŒÙˆÛ•ØŒ Ø³Û•ÙˆØ²Û•ØŒ Ú¯Û†Ø´ØªØŒ Ø´ÛŒØ±ÛŒÙ†ÛŒØŒ Ù‡ØªØ¯.)

2) ØªØ§ÛŒØ¨Û•ØªÙ…Û•Ù†Ø¯ÛŒÛŒÛ•Ú©Ø§Ù†ÛŒ Ø®Û†Ø±Ø§Ú©:
- Ú•Û•Ù†Ú¯ Ùˆ Ø´ÛÙˆØ§Ø²
- Ù‚Û•Ø¨Ø§Ø±Û• Ùˆ Ù‚Û•Ø¨Ø§Ø±Û•
- ØªØ§Ø²Û•ÛŒÛŒ Ùˆ Ú©ÙˆØ§Ù„ÛØªÛŒ

3) Ù¾ÛÚ©Ù‡Ø§ØªÛ• Ø®Û†Ø±Ø§Ú©ÛŒÛŒÛ•Ú©Ø§Ù†:
- Ù¾ÛÚ©Ù‡Ø§ØªÛ• Ø³Û•Ø±Û•Ú©ÛŒÛŒÛ•Ú©Ø§Ù†
- Ú¤ÛŒØªØ§Ù…ÛŒÙ† Ùˆ Ú©Ø§Ù†Ø²Ø§Ú©Ø§Ù†
- Ú©Ø§Ù„Û†Ø±ÛŒ Ùˆ ÙˆØ²Û•

4) Ù¾ÛØ¯Ø§ÙˆÛŒØ³ØªÛŒÛŒÛ• ØªÛ•Ù†Ø¯Ø±ÙˆØ³ØªÛŒÛŒÛ•Ú©Ø§Ù†:
- Ø³ÙˆÙˆØ¯Û• ØªÛ•Ù†Ø¯Ø±ÙˆØ³ØªÛŒÛŒÛ•Ú©Ø§Ù†
- Ú©ÛØ´Û• ØªÛ•Ù†Ø¯Ø±ÙˆØ³ØªÛŒÛŒÛ•Ú©Ø§Ù† Ø¦Û•Ú¯Û•Ø± Ù‡Û•Ø¨ÙˆÙˆÙ†
- Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±ÛŒÛ• Ø®Û†Ø±Ø§Ú©ÛŒÛŒÛ•Ú©Ø§Ù†

5) Ø´ÛÙˆØ§Ø²ÛŒ Ú†ÛØ´ØªÙ„ÛÙ†Ø§Ù†:
- Ú•ÛÚ¯Ø§Ú©Ø§Ù†ÛŒ Ú†ÛØ´ØªÙ„ÛÙ†Ø§Ù†
- Ú©Ø§ØªÛŒ Ù¾ÛØ´Ù†ÛŒØ§Ø±Ú©Ø±Ø§Ùˆ
- Ø¦Ø§Ù…ÛØ±Û•Ú©Ø§Ù†ÛŒ Ù¾ÛÙˆÛŒØ³Øª

6) Ù¾Ø§Ø±Ø§Ø³ØªÙ† Ùˆ Ú©Ø§ØªÛŒ Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†:
- Ø´ÛÙˆØ§Ø²ÛŒ Ù¾Ø§Ø±Ø§Ø³ØªÙ†
- Ù…Ø§ÙˆÛ•ÛŒ Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†
- Ù†ÛŒØ´Ø§Ù†Û•Ú©Ø§Ù†ÛŒ Ù„Û•Ù†Ø§ÙˆÚ†ÙˆÙˆÙ†

Ú©Û†ØªØ§ÛŒÛŒ Ø¨Ú©Û• Ø¨Û•:
âœ… Ù¾ÙˆØ®ØªÛ•ÛŒ Ø®Û†Ø±Ø§Ú©: (Ù¾ÙˆØ®ØªÛ•ÛŒÛ•Ú©ÛŒ Ú©ÙˆØ±Øª Ù„Û•Ø³Û•Ø± Ø³ÙˆÙˆØ¯Û• ØªÛ•Ù†Ø¯Ø±ÙˆØ³ØªÛŒÛŒÛ•Ú©Ø§Ù†)

âš ï¸ Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø± Ø¨Û•: Ù‡ÛŒÚ† Ø²Ø§Ù†ÛŒØ§Ø±ÛŒÛŒÛ•Ú©ÛŒ Ù¾Ø²ÛŒØ´Ú©ÛŒ Ø¯Ø±ÙˆØ³Øª Ù…Û•Ú©Û•. Ù‡Û•Ø± Ø²Ø§Ù†ÛŒØ§Ø±ÛŒÛŒÛ•Ú© ØªÛ•Ù†Ù‡Ø§ Ù„Û•Ø³Û•Ø± Ø¨Ù†Û•Ù…Ø§ÛŒ Ø®Û†Ø±Ø§Ú©Û•Ú©Û• Ø¨ÛØª.
""",
            'en': """
You are a food image analyzer.

Analyze the uploaded image carefully:

1) Food Type:
- Food name
- Category (fruit, vegetable, meat, dessert, etc.)

2) Food Characteristics:
- Color and shape
- Size and dimensions
- Freshness and quality

3) Nutritional Components:
- Main ingredients
- Vitamins and minerals
- Calories and energy

4) Health Requirements:
- Health benefits
- Health concerns if present
- Dietary warnings

5) Cooking Methods:
- Preparation methods
- Recommended cooking time
- Required utensils

6) Storage & Shelf Life:
- Storage methods
- Shelf life
- Spoilage signs

End with:
âœ… Food Summary: (Brief overview of health benefits)

âš ï¸ NOTE: Do not create medical information. All information should be based solely on the food item.
""",
            'ar': """
Ø£Ù†Øª Ù…Ø­Ù„Ù„ ØµÙˆØ± Ø§Ù„Ø·Ø¹Ø§Ù….

Ù‚Ù… Ø¨ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø© Ø¨Ø¹Ù†Ø§ÙŠØ©:

1) Ù†ÙˆØ¹ Ø§Ù„Ø·Ø¹Ø§Ù…:
- Ø§Ø³Ù… Ø§Ù„Ø·Ø¹Ø§Ù…
- Ø§Ù„ÙØ¦Ø© (ÙØ§ÙƒÙ‡Ø©ØŒ Ø®Ø¶Ø±ÙˆØ§ØªØŒ Ù„Ø­ÙˆÙ…ØŒ Ø­Ù„ÙˆÙ‰ØŒ Ø¥Ù„Ø®.)

2) Ø®ØµØ§Ø¦Øµ Ø§Ù„Ø·Ø¹Ø§Ù…:
- Ø§Ù„Ù„ÙˆÙ† ÙˆØ§Ù„Ø´ÙƒÙ„
- Ø§Ù„Ø­Ø¬Ù… ÙˆØ§Ù„Ø£Ø¨Ø¹Ø§Ø¯
- Ø§Ù„Ù†Ø¶Ø§Ø±Ø© ÙˆØ§Ù„Ø¬ÙˆØ¯Ø©

3) Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ©:
- Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
- Ø§Ù„ÙÙŠØªØ§Ù…ÙŠÙ†Ø§Øª ÙˆØ§Ù„Ù…Ø¹Ø§Ø¯Ù†
- Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ø·Ø§Ù‚Ø©

4) Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ©:
- Ø§Ù„ÙÙˆØ§Ø¦Ø¯ Ø§Ù„ØµØ­ÙŠØ©
- Ø§Ù„Ù…Ø®Ø§ÙˆÙ Ø§Ù„ØµØ­ÙŠØ© Ø¥Ù† ÙˆØ¬Ø¯Øª
- Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ©

5) Ø·Ø±Ù‚ Ø§Ù„Ø·Ù‡ÙŠ:
- Ø·Ø±Ù‚ Ø§Ù„ØªØ­Ø¶ÙŠØ±
- ÙˆÙ‚Øª Ø§Ù„Ø·Ù‡ÙŠ Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡
- Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

6) Ø§Ù„ØªØ®Ø²ÙŠÙ† ÙˆÙ…Ø¯Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©:
- Ø·Ø±Ù‚ Ø§Ù„ØªØ®Ø²ÙŠÙ†
- Ù…Ø¯Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©
- Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„ØªÙ„Ù

Ø§Ø®ØªØªÙ… Ø¨Ù€:
âœ… Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ø¹Ø§Ù…: (Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ù…Ø®ØªØµØ±Ø© Ø¹Ù† Ø§Ù„ÙÙˆØ§Ø¦Ø¯ Ø§Ù„ØµØ­ÙŠØ©)

âš ï¸ Ù…Ù„Ø§Ø­Ø¸Ø©: Ù„Ø§ ØªÙ†Ø´Ø¦ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø·Ø¨ÙŠØ©. ÙŠØ¬Ø¨ Ø£Ù† ØªØ³ØªÙ†Ø¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙÙ‚Ø· Ø¹Ù„Ù‰ Ø¹Ù†ØµØ± Ø§Ù„Ø·Ø¹Ø§Ù….
"""
        },
        'general': {
            'ku': """
ØªÛ† Ø´ÛŒÚ©Û•Ø±Û•ÙˆÛ•ÛŒ ÙˆÛÙ†Û•ÛŒ Ú¯Ø´ØªÛŒ.

ÙˆÛÙ†Û•ÛŒ Ø¨Ø§Ø±Ú©Ø±Ø§Ùˆ Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ• Ø¨Ú©Û• Ø¨Û• ÙˆØ±Ø¯ÛŒ Ùˆ Ú•ÙˆÙˆÙ†ÛŒ:

1) Ù†Ø§Ø³ÛŒÙ†Û•ÙˆÛ•ÛŒ Ø³Û•Ø±Û•Ú©ÛŒ:
- Ú†ÛŒÛŒÛ•ØŸ
- Ø¬Û†Ø±ÛŒ Ú¯Ø´ØªÛŒ

2) ØªØ§ÛŒØ¨Û•ØªÙ…Û•Ù†Ø¯ÛŒÛŒÛ• Ø¯ÛŒØ§Ø±Û•Ú©Ø§Ù†:
- Ù‚Û•Ø¨Ø§Ø±Û• Ùˆ Ù‚Û•Ø¨Ø§Ø±Û•
- Ú•Û•Ù†Ú¯ Ùˆ Ù…Ø§Ø¯Ø¯Û•
- Ø´ÛÙˆØ§Ø² Ùˆ Ø¯ÛŒØ²Ø§ÛŒÙ†

3) Ú©Ø§Ø±Ú©Ø±Ø¯ Ùˆ Ø³ÙˆÙˆØ¯:
- Ø¨Û†Ú†ÛŒ Ø¨Û•Ú©Ø§Ø±Ø¯ÛØªØŸ
- Ø³ÙˆÙˆØ¯Û• Ø³Û•Ø±Û•Ú©ÛŒÛŒÛ•Ú©Ø§Ù†

4) Ø´ÙˆÛÙ† Ùˆ Ú©Û†Ù†ØªÛÚ©Ø³Øª:
- Ù„Û• Ú©ÙˆÛÛŒÛ•ØŸ
- Ú† Ú©Û•Ø³ÛÚ© ÛŒØ§Ù† Ú† Ø´ØªÛÚ© Ù„Û•Ú¯Û•ÚµÛŒØ¯Ø§ÛŒÛ•ØŸ

5) Ú©ÙˆØ§Ù„ÛØªÛŒ Ùˆ Ø¯Û†Ø®:
- ØªØ§Ø²Û•ÛŒÛŒ ÛŒØ§Ù† Ú©Û†Ù†ÛŒ
- Ø¯Û†Ø®ÛŒ Ú©Ø§Ø±Ú©Ø±Ø¯Ù†
- Ú©ÛØ´Û•Ú©Ø§Ù† Ø¦Û•Ú¯Û•Ø± Ù‡Û•Ø¨ÙˆÙˆÙ†

6) Ù¾ÛØ´Ù†ÛŒØ§Ø±Û• Ú¯Ø´ØªÛŒÛŒÛ•Ú©Ø§Ù†:
- Ú†Û†Ù†ÛŒÛ•ØªÛŒ Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†
- Ù¾Ø§Ø±Ø§Ø³ØªÙ†
- Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±ÛŒÛ•Ú©Ø§Ù†

Ú©Û†ØªØ§ÛŒÛŒ Ø¨Ú©Û• Ø¨Û•:
âœ… Ù¾ÙˆØ®ØªÛ•ÛŒ Ú¯Ø´ØªÛŒ: (Ù¾ÙˆØ®ØªÛ•ÛŒÛ•Ú©ÛŒ Ú©ÙˆØ±Øª Ù„Û•Ø³Û•Ø± Ù‡Û•Ù…ÙˆÙˆ Ø²Ø§Ù†ÛŒØ§Ø±ÛŒÛŒÛ•Ú©Ø§Ù†)

Ù‚ÙˆØ§Ø¹Ø¯:
- Ú•ÙˆÙˆÙ† Ùˆ ÙˆØ±Ø¯ Ø¨Û•
- ØªÛ•Ù†Ù‡Ø§ Ù„Û•Ø³Û•Ø± Ø¨Ù†Û•Ù…Ø§ÛŒ ÙˆÛÙ†Û•Ú©Û• Ù‚Ø³Û• Ø¨Ú©Û•
- Ù‡ÛŒÚ† Ø²Ø§Ù†ÛŒØ§Ø±ÛŒÛŒÛ•Ú©ÛŒ Ù†Ø§Ø¯ÛŒØ§Ø± Ø¯Ø±ÙˆØ³Øª Ù…Û•Ú©Û•
""",
            'en': """
You are a general image analyzer.

Analyze the uploaded image carefully and clearly:

1) Primary Identification:
- What is it?
- General category

2) Visible Features:
- Size and dimensions
- Color and material
- Shape and design

3) Function & Utility:
- What is it used for?
- Main benefits

4) Location & Context:
- Where is it?
- Who or what is with it?

5) Quality & Condition:
- New or old
- Working condition
- Issues if present

6) General Recommendations:
- How to use
- Maintenance
- Warnings

End with:
âœ… General Summary: (Brief summary of all information)

Rules:
- Be clear and precise
- Base analysis only on the image
- Do not hallucinate unseen details
""",
            'ar': """
Ø£Ù†Øª Ù…Ø­Ù„Ù„ ØµÙˆØ± Ø¹Ø§Ù….

Ù‚Ù… Ø¨ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø© Ø¨Ø¹Ù†Ø§ÙŠØ© ÙˆÙˆØ¶ÙˆØ­:

1) Ø§Ù„ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ:
- Ù…Ø§ Ù‡Ø°Ø§ØŸ
- Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø¹Ø§Ù…Ø©

2) Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ø±Ø¦ÙŠØ©:
- Ø§Ù„Ø­Ø¬Ù… ÙˆØ§Ù„Ø£Ø¨Ø¹Ø§Ø¯
- Ø§Ù„Ù„ÙˆÙ† ÙˆØ§Ù„Ù…Ø§Ø¯Ø©
- Ø§Ù„Ø´ÙƒÙ„ ÙˆØ§Ù„ØªØµÙ…ÙŠÙ…

3) Ø§Ù„ÙˆØ¸ÙŠÙØ© ÙˆØ§Ù„Ù…Ù†ÙØ¹Ø©:
- Ù…Ø§ Ù‡Ùˆ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ØŸ
- Ø§Ù„ÙÙˆØ§Ø¦Ø¯ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

4) Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§Ù„Ø³ÙŠØ§Ù‚:
- Ø£ÙŠÙ† Ù‡ÙˆØŸ
- Ù…Ù† Ø£Ùˆ Ù…Ø§ Ù‡Ùˆ Ù…Ø¹Ù‡ØŸ

5) Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„Ø­Ø§Ù„Ø©:
- Ø¬Ø¯ÙŠØ¯ Ø£Ùˆ Ù‚Ø¯ÙŠÙ…
- Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ù…Ù„
- Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø¥Ù† ÙˆØ¬Ø¯Øª

6) Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø©:
- ÙƒÙŠÙÙŠØ© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
- Ø§Ù„ØµÙŠØ§Ù†Ø©
- Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª

Ø§Ø®ØªØªÙ… Ø¨Ù€:
âœ… Ù…Ù„Ø®Øµ Ø¹Ø§Ù…: (Ù…Ù„Ø®Øµ Ù…ÙˆØ¬Ø² Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª)

Ù‚ÙˆØ§Ø¹Ø¯:
- ÙƒÙ† ÙˆØ§Ø¶Ø­Ù‹Ø§ ÙˆØ¯Ù‚ÙŠÙ‚Ù‹Ø§
- Ù‚Ù… Ø¨Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø¨Ù†Ø§Ø¡Ù‹ ÙÙ‚Ø· Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø©
- Ù„Ø§ ØªØ®ØªÙ„Ù‚ ØªÙØ§ØµÙŠÙ„ ØºÙŠØ± Ù…Ø±Ø¦ÙŠØ©
"""
        }
    }
    
    # Get the category prompt, default to 'medicine' if category not found
    category_prompts = prompts.get(category, prompts['medicine'])
    # Get the language prompt, default to 'en' if language not found
    return category_prompts.get(language_code, category_prompts['en'])

@app.route('/analyze', methods=['POST', 'OPTIONS'])
def analyze_image():
    if request.method == 'OPTIONS':
        return jsonify({'status': 'ok'}), 200
    
    try:
        data = request.json
        if not data or 'image' not in data:
            return jsonify({'error': 'No image data provided'}), 400

        base64_image = data['image']
        language = data.get('language', 'en')
        category = data.get('category', 'medicine')
        
        print(f"Processing request - Category: {category}, Language: {language}")
        
        # Get appropriate prompt for the category and language
        prompt = get_prompt_for_category_and_language(category, language)
        
        # Call Anthropic API
        message = client.messages.create(
            model="claude-3-haiku-20240307",
            max_tokens=1500,
            temperature=0.3,
            messages=[
                {
                    "role": "user",
                    "content": [
                        {
                            "type": "image",
                            "source": {
                                "type": "base64",
                                "media_type": "image/jpeg",
                                "data": base64_image,
                            }
                        },
                        {
                            "type": "text",
                            "text": prompt
                        }
                    ]
                }
            ]
        )
        
        if message.content and len(message.content) > 0:
            response_text = message.content[0].text
            
            # Add disclaimer in appropriate language
            disclaimers = {
                'en': "\n\nâš ï¸ **Disclaimer**: This is AI-generated analysis. Verify with professionals when needed.",
                'ar': "\n\nâš ï¸ **ØªÙ†Ø¨ÙŠÙ‡**: Ù‡Ø°Ø§ ØªØ­Ù„ÙŠÙ„ ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ. ØªØ­Ù‚Ù‚ Ù…Ø¹ Ø§Ù„Ù…ØªØ®ØµØµÙŠÙ† Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©.",
                'ku': "\n\nâš ï¸ **Ø¦Ø§Ú¯Ø§Ø¯Ø§Ø±ÛŒ**: Ø¦Û•Ù…Û• Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒÛ•Ú©ÛŒ Ø¦Û•Ù†Ø³ØªÛŒÙÛŒÚ©Û•Ù„ÛŒÛŒÛ•. Ú©Ø§ØªÛÚ© Ù¾ÛÙˆÛŒØ³ØªÛ• Ù„Û•Ú¯Û•Úµ Ù¾Ø³Ù¾Û†Ú•Ø§Ù†Ø¯Ø§ Ù¾Ø´ØªÚ•Ø§Ø³ØªÛŒ Ø¨Ú©Û•Ø±Û•ÙˆÛ•."
            }
            
            response_text += disclaimers.get(language, disclaimers['en'])
            
            return jsonify({
                'description': response_text,
                'success': True,
                'language': language,
                'category': category
            })
        else:
            return jsonify({'error': 'No analysis received from AI'}), 500

    except Exception as e:
        print(f"Error in analyze_image: {e}")
        return jsonify({
            'error': 'Failed to analyze image',
            'details': str(e)
        }), 500

@app.route('/categories', methods=['GET'])
def get_categories():
    """Endpoint to get supported categories"""
    return jsonify({
        'supported_categories': [
            {'code': 'medicine', 'name': 'Medicine'},
            {'code': 'industrial', 'name': 'Industrial'},
            {'code': 'person', 'name': 'Person'},
            {'code': 'environment', 'name': 'Environment'},
            {'code': 'safety', 'name': 'Safety'},
            {'code': 'objects', 'name': 'Objects'},
            {'code': 'food', 'name': 'Food'},
            {'code': 'general', 'name': 'General'}
        ]
    })

@app.route('/languages', methods=['GET'])
def get_languages():
    """Endpoint to get supported languages"""
    return jsonify({
        'supported_languages': [
            {'code': 'en', 'name': 'English'},
            {'code': 'ar', 'name': 'Arabic'},
            {'code': 'ku', 'name': 'Kurdish'}
        ]
    })

if __name__ == '__main__':
    port = int(os.environ.get('PORT', 5000))
    print(f"\nAnyScan Server starting on port {port}")
    print(f"Supported categories: Medicine, Industrial, Person, Environment, Safety, Objects, Food, General")
    print(f"Supported languages: English, Arabic, Kurdish")
    app.run(host='0.0.0.0', port=port)